/*! https://github.com/xiazeyu/live2d-widget.js built@2019-4-2 16:24:00 */var L2Dwidget=function(s){o=window.webpackJsonpL2Dwidget,window.webpackJsonpL2Dwidget=function(a,e,l){for(var n,i,r=0,c=[];r<a.length;r++)i=a[r],t[i]&&c.push(t[i][0]),t[i]=0;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);for(o&&o(a,e,l);c.length;)c.shift()()};var o,n={},t={1:0};function e(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return s[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.e=function(s){if(o=t[s],0===o)return new Promise(function(e){e()});if(o)return o[2];i=new Promise(function(e,n){o=t[s]=[e,n]}),o[2]=i;var o,i,r=document.getElementsByTagName("head")[0],n=document.createElement("script"),c;n.type="text/javascript",n.charset="utf-8",n.async=!0,n.timeout=12e4,e.nc&&n.setAttribute("nonce",e.nc),n.src=e.p+"L2Dwidget."+s+".min.js",c=setTimeout(a,12e4);function a(){n.onerror=n.onload=null,clearTimeout(c);var e=t[s];0!==e&&(e&&e[1](new Error("Loading chunk "+s+" failed.")),t[s]=void 0)}return n.onerror=n.onload=a,r.appendChild(n),i},e.m=s,e.c=n,e.d=function(t,n,s){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e.oe=function(e){throw console.error(e),e},e(e.s=41)}([function(i,a,e){var t=e(16)("wks"),o=e(18),n=e(1).Symbol,s="function"==typeof n;(i.exports=function(e){return t[e]||(t[e]=s&&n[e]||(s?n:o)("Symbol."+e))}).store=t},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e){var t=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=t)},function(e,s,t){var n=t(6);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(t,o,e){var n=e(10),s=e(29);t.exports=e(7)?function(e,t,o){return n.f(e,t,s(1,o))}:function(e,t,n){return e[t]=n,e}},function(a,c,e){var i=e(1),t=e(4),o=e(11),n=e(18)("src"),s=e(46),r=(""+s).split("toString");e(2).inspectSource=function(e){return s.call(e)},(a.exports=function(s,e,a,l){var c="function"==typeof a;c&&(o(a,"name")||t(a,"name",e)),s[e]!==a&&(c&&(o(a,n)||t(a,n,s[e]?""+s[e]:r.join(String(e)))),s===i?s[e]=a:l?s[e]?s[e]=a:t(s,e,a):(delete s[e],t(s,e,a)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[n]||s.call(this)})},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n,t){e.exports=!t(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e){e.exports={}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(a,s,e){var t=e(3),o=e(44),i=e(45),n=Object.defineProperty;s.f=e(7)?Object.defineProperty:function(s,a,e){if(t(s),a=i(a,!0),t(e),o)try{return n(s,a,e)}catch(e){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(s[a]=e.value),s}},function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(i,c,n){var t=n(1),s=n(2),a=n(4),r=n(5),o=n(13),e=function(l,c,h){var i,v,n,p,y=l&e.F,m=l&e.G,j=l&e.S,g=l&e.P,b=l&e.B,d=m?t:j?t[c]||(t[c]={}):(t[c]||{}).prototype,u=m?s:s[c]||(s[c]={}),f=u.prototype||(u.prototype={});for(i in m&&(h=c),h)n=((v=!y&&d&&void 0!==d[i])?d:h)[i],p=b&&v?o(n,t):g&&"function"==typeof n?o(Function.call,n):n,d&&r(d,i,n,l&e.U),u[i]!=n&&a(u,i,p),g&&f[i]!=n&&(f[i]=n)};t.core=s,e.F=1,e.G=2,e.S=4,e.P=8,e.B=16,e.W=32,e.U=64,e.R=128,i.exports=e},function(e,s,t){var n=t(14);e.exports=function(e,t,s){if(n(e),void 0===t)return e;switch(s){case 1:return function(n){return e.call(t,n)};case 2:return function(n,s){return e.call(t,n,s)};case 3:return function(n,s,o){return e.call(t,n,s,o)}}return function(){return e.apply(t,arguments)}}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(n,i,t){var e=t(9),s=t(0)("toStringTag"),o="Arguments"==e(function(){return arguments}());n.exports=function(n){var t,i,a;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(n),s))?i:o?e(t):"Object"==(a=e(t))&&"function"==typeof t.callee?"Arguments":a}},function(s,i,e){var o=e(2),t=e(1),n=t["__core-js_shared__"]||(t["__core-js_shared__"]={});(s.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:e(17)?"pure":"global",copyright:"? 2019 Denis Pushkarev (zloirock.ru)"})},function(e){e.exports=!1},function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},function(s,i,t){var n=t(6),e=t(1).document,o=n(e)&&n(e.createElement);s.exports=function(t){return o?e.createElement(t):{}}},function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},function(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(t,o,e){var n=e(53),s=e(21);t.exports=function(e){return n(s(e))}},function(n,o,e){var t=e(16)("keys"),s=e(18);n.exports=function(e){return t[e]||(t[e]=s(e))}},function(n,i,e){var s=e(10).f,o=e(11),t=e(0)("toStringTag");n.exports=function(e,n,i){e&&!o(e=i?e:e.prototype,t)&&s(e,t,{configurable:!0,value:n})}},function(t,s,n){"use strict";var e=n(14);t.exports.f=function(t){return new function(s){var t,n;this.promise=new s(function(e,s){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=s}),this.resolve=e(t),this.reject=e(n)}(t)}},function(a,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.config=e.configApplyer=void 0;var o=s(n(77)),i=s(n(78)),t;function s(e){return e&&e.__esModule?e:{default:e}}t={},e.configApplyer=function(e){(0,i.default)(t,e,o.default)},e.config=t},function(c,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.L2Dwidget=void 0;var i=function(){function e(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=s(e(39)),n=e(26),o,r;s(e(40));function s(e){return e&&e.__esModule?e:{default:e}}o=void 0,r=new(function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.eventHandlers={},this.config=n.config}return i(t,[{key:"on",value:function(e,t){if("function"!=typeof t)throw new TypeError("Event handler is not a function.");return this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t),this}},{key:"emit",value:function(t){for(var n=arguments.length,s=Array(n>1?n-1:0),e=1;e<n;e++)s[e-1]=arguments[e];return this.eventHandlers[t]&&this.eventHandlers[t].forEach(function(e){"function"==typeof e&&e.apply(void 0,s)}),this.eventHandlers["*"]&&this.eventHandlers["*"].forEach(function(e){"function"==typeof e&&e.apply(void 0,[t].concat(s))}),this}},{key:"init",value:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.configApplyer)(s),this.emit("config",this.config),!n.config.mobile.show&&a.default.mobile()||e.e(0).then(e.bind(null,79)).then(function(e){(o=e).theRealInit(t)}).catch(function(e){console.error(e)})}},{key:"captureFrame",value:function(e){return o.captureFrame(e)}},{key:"downloadFrame",value:function(){this.captureFrame(function(t){var e=document.createElement("a");document.body.appendChild(e),e.setAttribute("type","hidden"),e.href=t,e.download="live2d.png",e.click()})}}]),t}()),t.L2Dwidget=r},function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(h,m,e){"use strict";var i=e(17),s=e(12),u=e(5),a=e(4),o=e(8),c=e(49),l=e(24),d=e(56),t=e(0)("iterator"),n=!([].keys&&"next"in[].keys()),r=function(){return this};h.exports=function(O,f,_,A,m,k,C){c(_,f,A);var g,b,v,j=function(t){if(!n&&t in e)return e[t];switch(t){case"keys":case"values":return function(){return new _(this,t)}}return function(){return new _(this,t)}},x=f+" Iterator",y="values"==m,w=!1,e=O.prototype,p=e[t]||e["@@iterator"]||m&&e[m],h=p||j(m),S=m?y?j("entries"):h:void 0,E="Array"==f&&e.entries||p;if(E&&(v=d(E.call(new O)))!==Object.prototype&&v.next&&(l(v,x,!0),i||"function"==typeof v[t]||a(v,t,r)),y&&p&&"values"!==p.name&&(w=!0,h=function(){return p.call(this)}),i&&!C||!n&&!w&&e[t]||a(e,t,h),o[f]=h,o[x]=r,m)if(g={values:y?h:j("values"),keys:k?h:j("keys"),entries:S},C)for(b in g)b in e||u(e,b,g[b]);else s(s.P+s.F*(n||w),f,g);return g}},function(t,o,e){var n=e(52),s=e(33);t.exports=Object.keys||function(e){return n(e,s)}},function(e,o,t){var n=t(20),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,s,n){var e=n(1).document;t.exports=e&&e.documentElement},function(n,i,e){var t=e(3),s=e(14),o=e(0)("species");n.exports=function(i,a){var e,n=t(i).constructor;return void 0===n||void 0==(e=t(n)[o])?a:s(e)}},function(b,j,t){var n,g,a,i=t(13),v=t(68),p=t(34),m=t(19),e=t(1),h=e.process,r=e.setImmediate,l=e.clearImmediate,f=e.MessageChannel,c=e.Dispatch,d=0,o={},s=function(){var e=+this,t;o.hasOwnProperty(e)&&(t=o[e],delete o[e],t())},u=function(e){s.call(e.data)};r&&l||(r=function(e){for(var t=[],s=1;arguments.length>s;)t.push(arguments[s++]);return o[++d]=function(){v("function"==typeof e?e:Function(e),t)},n(d),d},l=function(e){delete o[e]},"process"==t(9)(h)?n=function(e){h.nextTick(i(s,e,1))}:c&&c.now?n=function(e){c.now(i(s,e,1))}:f?(a=(g=new f).port2,g.port1.onmessage=u,n=i(a.postMessage,a,1)):e.addEventListener&&"function"==typeof postMessage&&!e.importScripts?(n=function(t){e.postMessage(t+"","*")},e.addEventListener("message",u,!1)):n="onreadystatechange"in m("script")?function(e){p.appendChild(m("script")).onreadystatechange=function(){p.removeChild(this),s.call(e)}}:function(e){setTimeout(i(s,e,1),0)}),b.exports={set:r,clear:l}},function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(t,i,e){var n=e(3),s=e(6),o=e(25);t.exports=function(t,e){if(n(t),s(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(b,d){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=window.device,e={},r=[],o;window.device=e;var s=window.document.documentElement,f=window.navigator.userAgent.toLowerCase(),l=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function t(e){return-1!==f.indexOf(e)}function u(e){return s.className.match(new RegExp(e,"i"))}function n(e){var t=null;u(e)||(t=s.className.replace(/^\s+|\s+$/g,""),s.className=t+" "+e)}function h(e){u(e)&&(s.className=s.className.replace(" "+e,""))}function i(){e.landscape()?(h("portrait"),n("landscape"),c("landscape")):(h("landscape"),n("portrait"),c("portrait")),m()}function c(e){for(var t in r)r[t](e)}e.macos=function(){return t("mac")},e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&t("iphone")},e.ipod=function(){return t("ipod")},e.ipad=function(){return t("ipad")},e.android=function(){return!e.windows()&&t("android")},e.androidPhone=function(){return e.android()&&t("mobile")},e.androidTablet=function(){return e.android()&&!t("mobile")},e.blackberry=function(){return t("blackberry")||t("bb10")||t("rim")},e.blackberryPhone=function(){return e.blackberry()&&!t("tablet")},e.blackberryTablet=function(){return e.blackberry()&&t("tablet")},e.windows=function(){return t("windows")},e.windowsPhone=function(){return e.windows()&&t("phone")},e.windowsTablet=function(){return e.windows()&&t("touch")&&!e.windowsPhone()},e.fxos=function(){return(t("(mobile")||t("(tablet"))&&t(" rv:")},e.fxosPhone=function(){return e.fxos()&&t("mobile")},e.fxosTablet=function(){return e.fxos()&&t("tablet")},e.meego=function(){return t("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"===g(window.process)},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){for(var e=0;e<l.length;){if(t(l[e]))return!0;e++}return!1},e.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?screen.orientation.type.includes("portrait"):window.innerHeight/window.innerWidth>1},e.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?screen.orientation.type.includes("landscape"):window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=p,this},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.macos()?n("macos desktop"):e.android()?e.androidTablet()?n("android tablet"):n("android mobile"):e.blackberry()?e.blackberryTablet()?n("blackberry tablet"):n("blackberry mobile"):e.windows()?e.windowsTablet()?n("windows tablet"):e.windowsPhone()?n("windows mobile"):n("windows desktop"):e.fxos()?e.fxosTablet()?n("fxos tablet"):n("fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),e.onChangeOrientation=function(e){"function"==typeof e&&r.push(e)},o="resize";function a(n){for(var t=0;t<n.length;t++)if(e[n[t]]())return n[t];return"unknown"}function m(){e.orientation=a(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(o="orientationchange"),window.addEventListener?window.addEventListener(o,i,!1):window.attachEvent?window.attachEvent(o,i):window[o]=i,i(),e.type=a(["mobile","tablet","desktop"]),e.os=a(["ios","iphone","ipad","ipod","android","blackberry","windows","fxos","meego","television"]),m(),d.default=e},function(l,u,o){"use strict";i=o(26),d=o(27),document.head.innerHTML+="\n<style>\n  .live2d-widget-dialog-container {\n    width: 300px;\n    height: 120px;\n    position: absolute;\n    bottom: 65%;\n    right: 0px;\n    transform-origin: right;\n    padding: 12px;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n  }\n  .live2d-widget-dialog {\n    width: 100%;\n    height: 100%;\n    color: #917159;\n    font-size: 16px;\n    padding: 12px;\n    border: 2px solid rgb(236, 203, 180);\n    background: rgba(236, 203, 180, 0.14);\n    box-sizing: border-box;\n    border-radius: 10px;\n    transform: rotate(-2deg);\n    opacity: 0;\n    transition: 200ms opacity;\n    box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 6px, rgba(0, 0, 0, 0.12) 0px 1px 4px;\n    animation: live2d-widget-dialog-tingle 4s ease-in-out 0s infinite alternate;\n  }\n  @keyframes live2d-widget-dialog-tingle {\n    0% { transform: translate(-1px, 1.5px) rotate(-2deg); }\n    100% { transform: translate(1px, -1.5px) rotate(2deg); }\n  }\n</style>\n";var i,d,t=void 0,e=void 0,s=void 0;function r(){e.style.opacity=1}function c(){e.style.opacity=0}function a(t){r(),e.innerText=t,clearTimeout(s),s=setTimeout(function(){c()},5e3)}function n(){var e=new XMLHttpRequest;e.open("get","https://v1.hitokoto.cn"),e.setRequestHeader("Cache-Control","no-cache"),e.onreadystatechange=function(){4===e.readyState&&(a(JSON.parse(e.responseText).hitokoto),setTimeout(n,1e4))},e.send()}l.exports={createDialogElement:function(s){(t=document.createElement("div")).className="live2d-widget-dialog-container",t.style.transform="scale("+i.config.display.width/250+")",(e=document.createElement("div")).className="live2d-widget-dialog",t.appendChild(e),s.appendChild(t),d.L2Dwidget.emit("create-dialog",t),i.config.dialog.hitokoto&&n()},displayDialog:r,hiddenDialog:c,alertText:a,showHitokotoLoop:n}},function(t,n,e){e(42),e(76),t.exports=e(27)},function(t,n,e){e(43),e(47),e(58),e(62),e(74),e(75),t.exports=e(2).Promise},function(s,o,e){"use strict";var n=e(15),t={};t[e(0)("toStringTag")]="z",t+""!="[object z]"&&e(5)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,n,e){t.exports=!e(7)&&!e(28)(function(){return 7!=Object.defineProperty(e(19)("div"),"a",{get:function(){return 7}}).a})},function(t,s,n){var e=n(6);t.exports=function(t,o){if(!e(t))return t;var n,s;if(o&&"function"==typeof(n=t.toString)&&!e(s=n.call(t)))return s;if("function"==typeof(n=t.valueOf)&&!e(s=n.call(t)))return s;if(!o&&"function"==typeof(n=t.toString)&&!e(s=n.call(t)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,n,t){e.exports=t(16)("native-function-to-string",Function.toString)},function(n,s,e){"use strict";var t=e(48)(!0);e(30)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,n=this._t,s=this._i;return s>=n.length?{value:void 0,done:!0}:(e=t(n,s),this._i+=e.length,{value:e,done:!1})})},function(t,o,e){var n=e(20),s=e(21);t.exports=function(e){return function(l,c){var i,a,o=String(s(l)),t=n(c),r=o.length;return t<0||t>=r?e?"":void 0:(i=o.charCodeAt(t))<55296||i>56319||t+1===r||(a=o.charCodeAt(t+1))<56320||a>57343?e?o.charAt(t):i:e?o.slice(t,t+2):a-56320+(i-55296<<10)+65536}}},function(i,a,e){"use strict";var n=e(50),s=e(29),o=e(24),t={};e(4)(t,e(0)("iterator"),function(){return this}),i.exports=function(e,i,a){e.prototype=n(t,{next:s(1,a)}),o(e,i+" Iterator")}},function(o,c,e){var i=e(3),a=e(51),s=e(33),r=e(23)("IE_PROTO"),n=function(){},t=function(){var n,o=e(19)("iframe"),i=s.length;for(o.style.display="none",e(34).appendChild(o),o.src="javascript:",(n=o.contentWindow.document).open(),n.write("<script>document.F=Object<\/script>"),n.close(),t=n.F;i--;)delete t.prototype[s[i]];return t()};o.exports=Object.create||function(s,o){var e;return null!==s?(n.prototype=i(s),e=new n,n.prototype=null,e[r]=s):e=t(),void 0===o?e:a(e,o)}},function(t,i,e){var n=e(10),s=e(3),o=e(31);t.exports=e(7)?Object.defineProperties:function(e,t){s(e);for(var i,a=o(t),c=a.length,r=0;c>r;)n.f(e,i=a[r++],t[i]);return e}},function(n,a,e){var t=e(11),s=e(22),o=e(54)(!1),i=e(23)("IE_PROTO");n.exports=function(l,r){var e,a=s(l),c=0,n=[];for(e in a)e!=i&&t(a,e)&&n.push(e);for(;r.length>c;)t(a,e=r[c++])&&(~o(n,e)||n.push(e));return n}},function(e,s,t){var n=t(9);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(t,i,e){var n=e(22),s=e(32),o=e(55);t.exports=function(e){return function(d,a,l){var c,i=n(d),r=s(i.length),t=o(l,r);if(e&&a!=a){for(;r>t;)if((c=i[t++])!=c)return!0}else for(;r>t;t++)if((e||t in i)&&i[t]===a)return e||t||0;return!e&&-1}}},function(e,i,t){var n=t(20),s=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?s(e+t,0):o(e,t)}},function(n,a,e){var s=e(11),o=e(57),t=e(23)("IE_PROTO"),i=Object.prototype;n.exports=Object.getPrototypeOf||function(e){return e=o(e),s(e,t)?e[t]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,s,t){var n=t(21);e.exports=function(e){return Object(n(e))}},function(y,j,t){for(var a=t(59),v=t(31),g=t(5),p=t(1),r=t(4),c=t(8),l=t(0),f=l("iterator"),u=l("toStringTag"),h=c.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},i=v(m),o=0;o<i.length;o++){var n,s=i[o],b=m[s],d=p[s],e=d&&d.prototype;if(e&&(e[f]||r(e,f,h),e[u]||r(e,u,s),c[s]=h,b))for(n in a)e[n]||g(e,n,a[n],!0)}},function(o,a,e){"use strict";var t=e(60),n=e(61),s=e(8),i=e(22);o.exports=e(30)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var t=this._t,s=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,n(1)):n(0,"keys"==s?e:"values"==s?t[e]:[e,t[e]])},"values"),s.Arguments=s.Array,t("keys"),t("values"),t("entries")},function(s,o,n){var e=n(0)("unscopables"),t=Array.prototype;void 0==t[e]&&n(4)(t,e,{}),s.exports=function(n){t[e][n]=!0}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(P,R,e){"use strict";var f,x,w,m,_=e(17),s=e(1),i=e(13),N=e(15),t=e(12),z=e(6),T=e(14),F=e(63),j=e(64),M=e(35),v=e(36).set,b=e(69)(),E=e(25),u=e(37),S=e(70),A=e(38),O=s.TypeError,o=s.process,C=o&&o.versions,k=C&&C.v8||"",n=s.Promise,c="process"==N(o),d=function(){},l=x=E.f,r=!!function(){try{var t=n.resolve(1),s=(t.constructor={})[e(0)("species")]=function(e){e(d,d)};return(c||"function"==typeof PromiseRejectionEvent)&&t.then(d)instanceof s&&0!==k.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(e){}}(),g=function(e){var t;return!(!z(e)||"function"!=typeof(t=e.then))&&t},h=function(e,n){if(!e._n){e._n=!0;var t=e._c;b(function(){for(var s=e._v,o=1==e._s,i=0,a=function(t){var n,c,l,r=o?t.ok:t.fail,d=t.resolve,a=t.reject,i=t.domain;try{r?(o||(2==e._h&&L(e),e._h=1),!0===r?n=s:(i&&i.enter(),n=r(s),i&&(i.exit(),l=!0)),n===t.promise?a(O("Promise-chain cycle")):(c=g(n))?c.call(n,d,a):d(n)):a(s)}catch(e){i&&!l&&i.exit(),a(e)}};t.length>i;)a(t[i++]);e._c=[],e._n=!1,n&&!e._h&&D(e)})}},D=function(e){v.call(s,function(){var t,a,n,i=e._v,r=y(e);if(r&&(t=u(function(){c?o.emit("unhandledRejection",i,e):(a=s.onunhandledrejection)?a({promise:e,reason:i}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=c||y(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},y=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){v.call(s,function(){var t;c?o.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},a=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),h(e,!0))},p=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw O("Promise can't be resolved itself");(n=g(t))?b(function(){var s={_w:e,_d:!1};try{n.call(t,i(p,s,1),i(a,s,1))}catch(e){a.call(s,e)}}):(e._v=t,e._s=1,h(e,!1))}catch(t){a.call({_w:e,_d:!1},t)}}};r||(n=function(e){F(this,n,"Promise","_h"),T(e),f.call(this);try{e(i(p,this,1),i(a,this,1))}catch(e){a.call(this,e)}},(f=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(71)(n.prototype,{then:function(t,s){var e=l(M(this,n));return e.ok="function"!=typeof t||t,e.fail="function"==typeof s&&s,e.domain=c?o.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&h(this,!1),e.promise},catch:function(e){return this.then(void 0,e)}}),w=function(){var e=new f;this.promise=e,this.resolve=i(p,e,1),this.reject=i(a,e,1)},E.f=l=function(e){return e===n||e===m?new w(e):x(e)}),t(t.G+t.W+t.F*!r,{Promise:n}),e(24)(n,"Promise"),e(72)("Promise"),m=e(2).Promise,t(t.S+t.F*!r,"Promise",{reject:function(t){var e=l(this);return(0,e.reject)(t),e.promise}}),t(t.S+t.F*(_||!r),"Promise",{resolve:function(e){return A(_&&this===m?n:this,e)}}),t(t.S+t.F*!(r&&e(73)(function(e){n.all(e).catch(d)})),"Promise",{all:function(i){var t=this,e=l(t),n=e.resolve,s=e.reject,o=u(function(){var e=[],a=0,o=1;j(i,!1,function(r){var c=a++,i=!1;e.push(void 0),o++,t.resolve(r).then(function(t){i||(i=!0,e[c]=t,--o||n(e))},s)}),--o||n(e)});return o.e&&s(o.v),e.promise},race:function(o){var t=this,e=l(t),n=e.reject,s=u(function(){j(o,!1,function(s){t.resolve(s).then(e.resolve,n)})});return s.e&&n(s.v),e.promise}})},function(e){e.exports=function(e,n,s,t){if(!(e instanceof n)||void 0!==t&&t in e)throw TypeError(s+": incorrect invocation!");return e}},function(o,s,e){var l=e(13),d=e(65),i=e(66),a=e(3),r=e(32),c=e(67),t={},n={};(s=o.exports=function(e,h,v,b,j){var g,u,p,s,m=j?function(){return e}:c(e),f=l(v,b,h?2:1),o=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(g=r(e.length);g>o;o++)if((s=h?f(a(u=e[o])[0],u[1]):f(e[o]))===t||s===n)return s}else for(p=m.call(e);!(u=p.next()).done;)if((s=d(p,f,u.value,h))===t||s===n)return s}).BREAK=t,s.RETURN=n},function(t,s,n){var e=n(3);t.exports=function(n,s,t,i){try{return i?s(e(t)[0],t[1]):s(t)}catch(t){var o=n.return;throw void 0!==o&&e(o.call(n)),t}}},function(t,i,e){var n=e(8),s=e(0)("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||o[s]===e)}},function(t,i,e){var n=e(15),s=e(0)("iterator"),o=e(8);t.exports=e(2).getIteratorMethod=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||o[n(e)]}},function(e){e.exports=function(t,e,n){var s=void 0===n;switch(e.length){case 0:return s?t():t.call(n);case 1:return s?t(e[0]):t.call(n,e[0]);case 2:return s?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return s?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return s?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(r,c,s){var e=s(1),a=s(36).set,o=e.MutationObserver||e.WebKitMutationObserver,t=e.process,n=e.Promise,i="process"==s(9)(t);r.exports=function(){if(l=function(){var e,n;for(i&&(e=t.domain)&&e.exit();s;){n=s.fn,s=s.next;try{n()}catch(e){throw s?r():c=void 0,e}}c=void 0,e&&e.enter()},i)r=function(){t.nextTick(l)};else if(!o||e.navigator&&e.navigator.standalone)n&&n.resolve?(h=n.resolve(void 0),r=function(){h.then(l)}):r=function(){a.call(e,l)};else{var s,c,r,l,h,d=!0,u=document.createTextNode("");new o(l).observe(u,{characterData:!0}),r=function(){u.data=d=!d}}return function(t){var e={fn:t,next:void 0};c&&(c.next=e),s||(s=e,r()),c=e}}},function(t,s,n){var e=n(1).navigator;t.exports=e&&e.userAgent||""},function(e,s,t){var n=t(5);e.exports=function(e,t,o){for(var s in t)n(e,s,t[s],o);return e}},function(i,a,e){"use strict";var n=e(1),s=e(10),o=e(7),t=e(0)("species");i.exports=function(i){var e=n[i];o&&e&&!e[t]&&s.f(e,t,{configurable:!0,get:function(){return this}})}},function(s,i,o){var e=o(0)("iterator"),t=!1,n;try{n=[7][e](),n.return=function(){t=!0},Array.from(n,function(){throw 2})}catch(e){}s.exports=function(i,a){if(!a&&!t)return!1;s=!1;try{var s,n=[7],o=n[e]();o.next=function(){return{done:s=!0}},n[e]=function(){return o},i(n)}catch(e){}return s}},function(a,r,e){"use strict";var t=e(12),o=e(2),i=e(1),s=e(35),n=e(38);t(t.P+t.R,"Promise",{finally:function(e){var t=s(this,o.Promise||i.Promise),a="function"==typeof e;return this.then(a?function(s){return n(t,e()).then(function(){return s})}:e,a?function(s){return n(t,e()).then(function(){throw s})}:e)}})},function(o,i,e){"use strict";var t=e(12),n=e(25),s=e(37);t(t.S,"Promise",{try:function(o){var e=n.f(this),t=s(o);return(t.e?e.reject:e.resolve)(t.v),e.promise}})},function(s,e,n){"use strict";function t(){try{return document.currentScript.src}catch(t){var e=document.getElementsByTagName("script");return e[e.length-1].src}}Object.defineProperty(e,"__esModule",{value:!0}),n.p=t().replace(/[^/\\\\]+$/,""),e.getCurrentPath=t},function(e){"use strict";e.exports={model:{jsonPath:"https://unpkg.com/live2d-widget-model-shizuku@latest/assets/shizuku.model.json",scale:1},display:{superSample:2,width:200,height:400,position:"right",hOffset:0,vOffset:-20},mobile:{show:!0,scale:.8,motion:!0},name:{canvas:"live2dcanvas",div:"live2d-widget"},react:{opacity:1},dev:{border:!1},dialog:{enable:!1,hitokoto:!1}}},function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function a(t){function o(i,o){for(t in o)if(o.hasOwnProperty(t)){var t,n=o[t],s;if("__proto__"===t)continue;s=i[t],null==s?i[t]=n:"object"===(void 0===s?"undefined":e(s))&&null!==s&&"object"===(void 0===n?"undefined":e(n))&&null!==n&&a(s,n)}}t=t||{};for(var i=arguments.length,s=0,n;s<i;)n=arguments[s++],n&&o(t,n);return t}}]).L2Dwidget,jsonModel;webpackJsonpL2Dwidget([0],{79:function(F,c,n){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.captureFrame=c.theRealInit=void 0;var u,v=n(26),e=n(83),M=n(80),m=n(81),S=n(86),r=n(84),t=n(82),A=n(39),k=(u=A)&&u.__esModule?u:{default:u},s=null,h=void 0,E=!1,o=null,a=null,O=null,i=null,d=!1,y=.5,w=null;function b(e,n,t){if(n.x<t.left+t.width&&n.y<t.top+t.height&&n.x>t.left&&n.y>t.top)return n;h=e.x-n.x,u=e.y-n.y;function i(a,i){return 180*Math.acos((s={x:0,y:1},e=a,t=i,n=Math.sqrt(e*e+t*t),o={x:e/n,y:t/n},s.x*o.x+s.y*o.y))/Math.PI;var s,o,e,t,n}s=i(h,u),n.x<e.x&&(s=360-s);var h,u,s,f=360-i(t.left-e.x,-1*(t.top-e.y)),_=360-i(t.left-e.x,-1*(t.top+t.height-e.y)),j=i(t.left+t.width-e.x,-1*(t.top-e.y)),v=i(t.left+t.width-e.x,-1*(t.top+t.height-e.y)),a=u/h,o={},m,p,r,g,d,b,l,y,c,w;return s<j?(m=t.top-e.y,p=m/a,o={y:e.y+m,x:e.x+p}):s<v?(r=t.left+t.width-e.x,g=r*a,o={y:e.y+g,x:e.x+r}):s<_?(d=t.top+t.height-e.y,b=d/a,o={y:e.y+d,x:e.x+b}):s<f?(l=e.x-t.left,y=l*a,o={y:e.y-y,x:e.x-l}):(c=t.top-e.y,w=c/a,o={y:e.y+c,x:e.x+w}),o}function x(o){d=!0;var n=e.currCanvas.getBoundingClientRect(),c=g(o.clientX-n.left),l=_(o.clientY-n.top),i=b({x:n.left+n.width/2,y:n.top+n.height*y},{x:o.clientX,y:o.clientY},n),a=f(i.x-n.left),r=j(i.y-n.top);t.cDefine.DEBUG_MOUSE_LOG&&console.log("modelTapEvent onMouseDown device( x:"+o.clientX+" y:"+o.clientY+" ) view( x:"+a+" y:"+r+")"),c,l,w.emit("tap",o),s.tapEvent(a,r)}function C(){d&&(d=!1),o.setPoint(0,0)}function l(n){if("mousedown"==n.type)x(n);else if("mousemove"==n.type)!function(s){d=!0;var n=e.currCanvas.getBoundingClientRect(),c=g(s.clientX-n.left),l=_(s.clientY-n.top),i=b({x:n.left+n.width/2,y:n.top+n.height*y},{x:s.clientX,y:s.clientY},n),a=f(i.x-n.left),r=j(i.y-n.top);t.cDefine.DEBUG_MOUSE_LOG&&console.log("modelTurnHead onMouseMove device( x:"+s.clientX+" y:"+s.clientY+" ) view( x:"+a+" y:"+r+")"),c,l,o.setPoint(a,r)}(n);else if("mouseup"==n.type){if("button"in n&&0!=n.button)return}else"mouseleave"==n.type&&C()}function p(i){var s,n,l,u,a,r,c,h=i.touches[0];"touchstart"==i.type?1==i.touches.length&&x(h):"touchmove"==i.type?(s=h,n=e.currCanvas.getBoundingClientRect(),l=g(s.clientX-n.left),u=_(s.clientY-n.top),a=b({x:n.left+n.width/2,y:n.top+n.height*y},{x:s.clientX,y:s.clientY},n),r=f(a.x-n.left),c=j(a.y-n.top),t.cDefine.DEBUG_MOUSE_LOG&&console.log("followPointer onMouseMove device( x:"+s.clientX+" y:"+s.clientY+" ) view( x:"+r+" y:"+c+")"),d&&(l,u,o.setPoint(r,c))):"touchend"==i.type&&C()}function f(e){var t=i.transformX(e);return a.invertTransformX(t)}function j(e){var t=i.transformY(e);return a.invertTransformY(t)}function g(e){return i.transformX(e)}function _(e){return i.transformY(e)}c.theRealInit=function(){(0,e.createElement)(),e.currCanvas.addEventListener&&(window.addEventListener("click",l),window.addEventListener("mousedown",l),window.addEventListener("mousemove",l),window.addEventListener("mouseup",l),document.addEventListener("mouseleave",l),window.addEventListener("touchstart",p),window.addEventListener("touchend",p),window.addEventListener("touchmove",p)),s=new S.cManager(w),o=new m.L2DTargetPoint;var c,d,n=e.currCanvas.getBoundingClientRect(),u=n.height/n.width,g=t.cDefine.VIEW_LOGICAL_LEFT,f=t.cDefine.VIEW_LOGICAL_RIGHT,b=-u,j=u;(a=new m.L2DViewMatrix).setScreenRect(g,f,b,j),a.setMaxScreenRect(t.cDefine.VIEW_LOGICAL_MAX_LEFT,t.cDefine.VIEW_LOGICAL_MAX_RIGHT,t.cDefine.VIEW_LOGICAL_MAX_BOTTOM,t.cDefine.VIEW_LOGICAL_MAX_TOP),c=k.default.mobile()&&v.config.mobile.scale||v.config.model.scale,a.adjustScale(0,0,c),(O=new m.L2DMatrix44).multScale(1,n.width/n.height),(i=new m.L2DMatrix44).multTranslate(-n.width/2,-n.height/2),i.multScale(2/n.width,-2/n.height),M.Live2D.setGL(e.currWebGL),e.currWebGL.clearColor(0,0,0,0),d=v.config.model.jsonPath,s.reloadFlg=!0,s.count++,s.changeModel(e.currWebGL,d),E||(E=!0,function t(){!function(){r.MatrixStack.reset(),r.MatrixStack.loadIdentity(),o.update(),s.setDrag(o.getX(),o.getY()),e.currWebGL.clear(e.currWebGL.COLOR_BUFFER_BIT),r.MatrixStack.multMatrix(O.getArray()),r.MatrixStack.multMatrix(a.getArray()),r.MatrixStack.push();for(var n=0,t;n<s.numModels();n++){if(t=s.getModel(n),null==t)return;t.initialized&&!t.updating&&(t.update(),t.draw(e.currWebGL))}r.MatrixStack.pop()}();var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;n(t,e.currCanvas),void 0!==h&&(h(e.currCanvas.toDataURL()),h=void 0)}())},c.captureFrame=function(e){h=e}},80:function(n,e,t){"use strict";(function(e7){Object.defineProperty(e,"__esModule",{value:!0});var i=!0,ef,U,ep;function a(){i||(this._$MT=null,this._$5S=null,this._$NP=0,a._$42++,this._$5S=new n(this))}function P(s){if(!i){this.clipContextList=new Array,this.glcontext=s.gl,this.dp_webgl=s,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new V,t.glContext.length>t.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new H,this.tmpMatrix2=new H,this.tmpMatrixForMask=new H,this.tmpMatrixForDraw=new H,this.CHANNEL_COLORS=new Array;var e=new ei,n;(e=new ei).r=0,e.g=0,e.b=0,e.a=1,this.CHANNEL_COLORS.push(e),(e=new ei).r=1,e.g=0,e.b=0,e.a=0,this.CHANNEL_COLORS.push(e),(e=new ei).r=0,e.g=1,e.b=0,e.a=0,this.CHANNEL_COLORS.push(e),(e=new ei).r=0,e.g=0,e.b=1,e.a=0,this.CHANNEL_COLORS.push(e);for(n=0;n<this.CHANNEL_COLORS.length;n++)this.dp_webgl.setChannelFlagAsColor(n,this.CHANNEL_COLORS[n])}}function eg(n,s,e){this.clipIDList=new Array,this.clipIDList=e,this.clippingMaskDrawIndexList=new Array;for(var t=0;t<e.length;t++)this.clippingMaskDrawIndexList.push(s.getDrawDataIndex(e[t]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new V,this.allClippedDrawRect=new V,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=n}function N(){i||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}function s(){}function Z(){i||(this.x=null,this.y=null,this.width=null,this.height=null)}function D(e){i||G.prototype.constructor.call(this,e)}function z(e){i||G.prototype.constructor.call(this,e)}function K(){i||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,K._$42++)}function w(){i||(this.p1=new eh,this.p2=new eh,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}function eh(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}function e3(e,t,n){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=e,this.scale=t,this._$V0=n}function e4(e,t,n,s){e3.prototype.constructor.call(this,t,n,s),this._$tL=null,this._$tL=e}function e0(e,t,n){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=e,this.scale=t,this._$V0=n}function em(e,t,n,s){e0.prototype.constructor.call(this,t,n,s),this._$YP=null,this._$YP=e}function eo(){i||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}a._$0s=1,a._$4s=2,a._$42=0,a._$62=function(t,n){try{if(n instanceof ArrayBuffer&&(n=new DataView(n)),!(n instanceof DataView))throw new q("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var o,e=new S(n),h=e._$ST(),r=e._$ST(),c=e._$ST(),l,d,u,i;if(109!=h||111!=r||99!=c)throw new q("_$gi _$C _$li , _$Q0 _$P0.");if(o=e._$ST(),e._$gr(o),o>j._$T7)throw t._$NP|=a._$4s,new q("_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+j._$T7+" < _$f0 : "+o+" )@_$SS#loadModel()\n");if(l=e._$nP(),o>=j._$s7)if(d=e._$9T(),u=e._$9T(),-30584!=d||-30584!=u)throw t._$NP|=a._$0s,new q("_$gi _$C _$li , _$0 _$6 _$Ui.");t._$KS(l),i=t.getModelContext(),i.setDrawParam(t.getDrawParam()),i.init()}catch(e){s._$Rb(e)}},a.prototype._$KS=function(e){this._$MT=e},a.prototype.getModelImpl=function(){return null==this._$MT&&(this._$MT=new K,this._$MT._$zP()),this._$MT},a.prototype.getCanvasWidth=function(){return null==this._$MT?0:this._$MT.getCanvasWidth()},a.prototype.getCanvasHeight=function(){return null==this._$MT?0:this._$MT.getCanvasHeight()},a.prototype.getParamFloat=function(e){return"number"!=typeof e&&(e=this._$5S.getParamIndex(z.getID(e))),this._$5S.getParamFloat(e)},a.prototype.setParamFloat=function(e,n,t){"number"!=typeof e&&(e=this._$5S.getParamIndex(z.getID(e))),arguments.length<3&&(t=1),this._$5S.setParamFloat(e,this._$5S.getParamFloat(e)*(1-t)+n*t)},a.prototype.addToParamFloat=function(e,n,t){"number"!=typeof e&&(e=this._$5S.getParamIndex(z.getID(e))),arguments.length<3&&(t=1),this._$5S.setParamFloat(e,this._$5S.getParamFloat(e)+n*t)},a.prototype.multParamFloat=function(e,n,t){"number"!=typeof e&&(e=this._$5S.getParamIndex(z.getID(e))),arguments.length<3&&(t=1),this._$5S.setParamFloat(e,this._$5S.getParamFloat(e)*(1+(n-1)*t))},a.prototype.getParamIndex=function(e){return this._$5S.getParamIndex(z.getID(e))},a.prototype.loadParam=function(){this._$5S.loadParam()},a.prototype.saveParam=function(){this._$5S.saveParam()},a.prototype.init=function(){this._$5S.init()},a.prototype.update=function(){this._$5S.update()},a.prototype._$Rs=function(){return s._$li("_$60 _$PT _$Rs()"),-1},a.prototype._$Ds=function(){s._$li("_$60 _$PT _$SS#_$Ds() \n")},a.prototype._$K2=function(){},a.prototype.draw=function(){},a.prototype.getModelContext=function(){return this._$5S},a.prototype._$s2=function(){return this._$NP},a.prototype._$P7=function(o,c,u,m){var i=-1,n=0,t=this,l,d,e;if(0!=u)if(1==o.length){a=o[0];var p=0!=t.getParamFloat(a),r=(s=c[0],t.getPartsOpacity(s)),h=u/m;p?(r+=h)>1&&(r=1):(r-=h)<0&&(r=0),t.setPartsOpacity(s,r)}else{for(e=0;e<o.length;e++)if(a=o[e],f=0!=t.getParamFloat(a)){if(i>=0)break;i=e,s=c[e],n=t.getPartsOpacity(s),(n+=u/m)>1&&(n=1)}i<0&&(console.log("No _$wi _$q0/ _$U default[%s]",o[0]),i=0,n=1,t.loadParam(),t.setParamFloat(o[i],n),t.saveParam());for(e=0;e<o.length;e++)s=c[e],i==e?t.setPartsOpacity(s,n):(d=t.getPartsOpacity(s),(1-(l=n<.5?-.5*n/.5+1:.5*(1-n)/.5))*(1-n)>.15&&(l=1-.15/(1-n)),d>l&&(d=l),t.setPartsOpacity(s,d))}else for(e=0;e<o.length;e++){var a=o[e],s=c[e],f=0!=t.getParamFloat(a);t.setPartsOpacity(s,f?1:0)}},a.prototype.setPartsOpacity=function(e,t){"number"!=typeof e&&(e=this._$5S.getPartsDataIndex(D.getID(e))),this._$5S.setPartsOpacity(e,t)},a.prototype.getPartsDataIndex=function(e){return e instanceof D||(e=D.getID(e)),this._$5S.getPartsDataIndex(e)},a.prototype.getPartsOpacity=function(e){return"number"!=typeof e&&(e=this._$5S.getPartsDataIndex(D.getID(e))),e<0?0:this._$5S.getPartsOpacity(e)},a.prototype.getDrawParam=function(){},a.prototype.getDrawDataIndex=function(e){return this._$5S.getDrawDataIndex(I.getID(e))},a.prototype.getDrawData=function(e){return this._$5S.getDrawData(e)},a.prototype.getTransformedPoints=function(t){var e=this._$5S._$C2(t);return e instanceof eu?e.getTransformedPoints():null},a.prototype.getIndexArray=function(t){if(t<0||t>=this._$5S._$aS.length)return null;var e=this._$5S._$aS[t];return null!=e&&e.getType()==r._$wb&&e instanceof f?e.getIndexArray():null},P.CHANNEL_COUNT=4,P.RENDER_TEXTURE_USE_MIPMAP=!1,P.NOT_USED_FRAME=-100,P.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var e=this.CHANNEL_COLORS.length-1;e>=0;--e)this.CHANNEL_COLORS.splice(e,1);this.CHANNEL_COLORS=[]}this.releaseShader()},P.prototype.releaseShader=function(){for(var n=t.frameBuffers.length,e=0;e<n;e++)this.gl.deleteFramebuffer(t.frameBuffers[e].framebuffer);t.frameBuffers=[],t.glContext=[]},P.prototype.init=function(o,n,a){for(e=0;e<n.length;e++)if(s=n[e].getClipIDList(),null!=s){t=this.findSameClip(s),null==t&&(t=new eg(this,o,s),this.clipContextList.push(t));var e,s,t,i=n[e].getDrawDataID(),r=o.getDrawDataIndex(i);t.addClippedDrawData(i,r),a[e].clipBufPre_clipContext=t}},P.prototype.getMaskRenderTexture=function(){var e;return e=this.dp_webgl.createFramebuffer(),t.frameBuffers[this.dp_webgl.glno]=e,this.dp_webgl.glno},P.prototype.setupClip=function(r,e){for(d=0,i=0;i<this.clipContextList.length;i++)n=this.clipContextList[i],this.calcClippedDrawTotalBounds(r,n),n.isUsing&&d++;if(d>0){v=e.gl.getParameter(e.gl.FRAMEBUFFER_BINDING),o=new Array(4),o[0]=0,o[1]=0,o[2]=e.gl.canvas.width,o[3]=e.gl.canvas.height,e.gl.viewport(0,0,t.clippingMaskBufferSize,t.clippingMaskBufferSize),this.setupLayoutBounds(d),e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,t.frameBuffers[this.curFrameNo].framebuffer),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT);for(i=0;i<this.clipContextList.length;i++){l=(n=this.clipContextList[i]).allClippedDrawRect,a=(n.layoutChannelNo,n.layoutBounds),this.tmpBoundsOnModel._$jL(l),this.tmpBoundsOnModel.expand(.05*l.width,.05*l.height),m=a.width/this.tmpBoundsOnModel.width,u=a.height/this.tmpBoundsOnModel.height,this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(a.x,a.y,0),this.tmpMatrix2.scale(m,u,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(a.x,a.y,0),this.tmpMatrix2.scale(m,u,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(g=this.tmpMatrixForMask.getArray(),s=0;s<16;s++)n.matrixForMask[s]=g[s];f=this.tmpMatrixForDraw.getArray();for(s=0;s<16;s++)n.matrixForDraw[s]=f[s];for(p=n.clippingMaskDrawIndexList.length,c=0;c<p;c++){var d,i,n,v,o,l,a,m,u,g,s,f,p,c,h=n.clippingMaskDrawIndexList[c],b=r.getDrawData(h),j=r._$C2(h);e.setClipBufPre_clipContextForMask(n),b.draw(e,r,j)}}e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,v),e.setClipBufPre_clipContextForMask(null),e.gl.viewport(o[0],o[1],o[2],o[3])}},P.prototype.getColorBuffer=function(){return this.colorBuffer},P.prototype.findSameClip=function(i){for(t=0;t<this.clipContextList.length;t++){var t,n=this.clipContextList[t],e=n.clipIDList.length,a,s,r,o;if(e==i.length){for(a=0,s=0;s<e;s++)for(r=n.clipIDList[s],o=0;o<e;o++)if(i[o]==r){a++;break}if(a==e)return n}}return null},P.prototype.calcClippedDrawTotalBounds=function(a,e){for(var v=a._$Ri.getModelImpl().getCanvasWidth(),g=a._$Ri.getModelImpl().getCanvasHeight(),i=v>g?v:g,t=i,n=i,r=0,c=0,O=e.clippedDrawContextList.length,u=0,w,j,x,C;u<O;u++)if(w=e.clippedDrawContextList[u].drawDataIndex,j=a._$C2(w),j._$yo()){for(var h=j.getTransformedPoints(),_=h.length,l=[],o=[],m=0,s=d._$i2;s<_;s+=d._$No)l[m]=h[s],o[m]=h[s+1],m++;var y=Math.min.apply(null,l),p=Math.min.apply(null,o),f=Math.max.apply(null,l),b=Math.max.apply(null,o);y<t&&(t=y),p<n&&(n=p),f>r&&(r=f),b>c&&(c=b)}t==i?(e.allClippedDrawRect.x=0,e.allClippedDrawRect.y=0,e.allClippedDrawRect.width=0,e.allClippedDrawRect.height=0,e.isUsing=!1):(x=r-t,C=c-n,e.allClippedDrawRect.x=t,e.allClippedDrawRect.y=n,e.allClippedDrawRect.width=x,e.allClippedDrawRect.height=C,e.isUsing=!0)},P.prototype.setupLayoutBounds=function(d){var c=d/P.CHANNEL_COUNT,l=d%P.CHANNEL_COUNT,r,i,o,t,a,n,e;c=~~c,l=~~l;for(r=0,i=0;i<P.CHANNEL_COUNT;i++)if(o=c+(i<l?1:0),0==o);else if(1==o)(e=this.clipContextList[r++]).layoutChannelNo=i,e.layoutBounds.x=0,e.layoutBounds.y=0,e.layoutBounds.width=1,e.layoutBounds.height=1;else if(2==o)for(t=0;t<o;t++)a=0,n=~~(n=t%2),(e=this.clipContextList[r++]).layoutChannelNo=i,e.layoutBounds.x=.5*n,e.layoutBounds.y=0,e.layoutBounds.width=.5,e.layoutBounds.height=1;else if(o<=4)for(t=0;t<o;t++)n=~~(n=t%2),a=~~(a=t/2),(e=this.clipContextList[r++]).layoutChannelNo=i,e.layoutBounds.x=.5*n,e.layoutBounds.y=.5*a,e.layoutBounds.width=.5,e.layoutBounds.height=.5;else if(o<=9)for(t=0;t<o;t++)n=~~(n=t%3),a=~~(a=t/3),(e=this.clipContextList[r++]).layoutChannelNo=i,e.layoutBounds.x=n/3,e.layoutBounds.y=a/3,e.layoutBounds.width=1/3,e.layoutBounds.height=1/3;else s._$li("_$6 _$0P mask count : %d",o)},eg.prototype.addClippedDrawData=function(e,t){var n=new function(e,t){this._$gP=e,this.drawDataIndex=t}(e,t);this.clippedDrawContextList.push(n)},N._$JT=function(h,s,c){var t=h/s,e=c/s,i=1-(1-e)*(1-e),a=1-(1-e)*(1-e),n=1/3*(1-e)*i+(e*(2/3)+1/3*(1-e))*(1-i),o=(e+2/3*(1-e))*a+(e*(1/3)+2/3*(1-e))*(1-a),l=1-3*o+3*n-0,d=3*o-6*n+0,u=3*n-0,r;return t<=0?0:t>=1?1:(r=t*t,l*(t*r)+d*r+u*t+0)},N.prototype._$a0=function(){},N.prototype.setFadeIn=function(e){this._$dP=e},N.prototype.setFadeOut=function(e){this._$eo=e},N.prototype._$pT=function(e){this._$V0=e},N.prototype.getFadeOut=function(){return this._$eo},N.prototype._$4T=function(){return this._$eo},N.prototype._$mT=function(){return this._$V0},N.prototype.getDurationMSec=function(){return-1},N.prototype.getLoopDurationMSec=function(){return-1},N.prototype.updateParam=function(o,e){if(e._$AT&&!e._$9L){var t=l.getUserTimeMSec(),s,n;e._$z2<0&&(e._$z2=t,e._$bs=t,s=this.getDurationMSec(),e._$Do<0&&(e._$Do=s<=0?-1:e._$z2+s)),n=this._$V0,0<=(n=n*(0==this._$dP?1:e2._$r2((t-e._$bs)/this._$dP))*(0==this._$eo||e._$Do<0?1:e2._$r2((e._$Do-t)/this._$eo)))&&n<=1||console.log("### assert!! ### "),this.updateParamExe(o,t,n,e),e._$Do>0&&e._$Do<t&&(e._$9L=!0)}},N.prototype.updateParamExe=function(){},s._$8s=0,s._$fT=new Object,s.start=function(t){var e=s._$fT[t];null==e&&((e=new function(){this._$r=null,this._$0S=null})._$r=t,s._$fT[t]=e),e._$0S=l.getSystemTimeMSec()},s.dump=function(e){var t=s._$fT[e],n;return null!=t?(n=l.getSystemTimeMSec()-t._$0S,console.log(e+" : "+n+"ms"),n):-1},s.end=function(t){var e=s._$fT[t];return null!=e?l.getSystemTimeMSec()-e._$0S:-1},s._$li=function(e,t){console.log("_$li : "+e+"\n",t)},s._$Ji=function(e,t){console.log(e,t)},s._$dL=function(e,t){console.log(e,t),console.log("\n")},s._$KL=function(t,n){for(var e=0;e<n;e++)e%16==0&&e>0?console.log("\n"):e%8==0&&e>0&&console.log("  "),console.log("%02X ",255&t[e]);console.log("\n")},s._$nr=function(n,t,s){console.log("%s\n",n);for(var o=t.length,e=0;e<o;++e)console.log("%5d",t[e]),console.log("%s\n",s),console.log(",");console.log("\n")},s._$Rb=function(e){console.log("dump exception : "+e),console.log("stack :: "+e.stack)},Z.prototype._$8P=function(){return.5*(this.x+this.x+this.width)},Z.prototype._$6P=function(){return.5*(this.y+this.y+this.height)},Z.prototype._$EL=function(){return this.x+this.width},Z.prototype._$5T=function(){return this.y+this.height},Z.prototype._$jL=function(e,t,n,s){this.x=e,this.y=t,this.width=n,this.height=s},Z.prototype._$jL=function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},D.prototype=new G,D._$tP=new Object,D._$27=function(){D._$tP.clear()},D.getID=function(t){var e=D._$tP[t];return null==e&&(e=new D(t),D._$tP[t]=e),e},D.prototype._$3s=function(){return new D},z.prototype=new G,z._$tP=new Object,z._$27=function(){z._$tP.clear()},z.getID=function(t){var e=z._$tP[t];return null==e&&(e=new z(t),z._$tP[t]=e),e},z.prototype._$3s=function(){return new z},K._$42=0,K.prototype._$zP=function(){null==this._$vo&&(this._$vo=new es),null==this._$F2&&(this._$F2=new Array)},K.prototype.getCanvasWidth=function(){return this._$ao},K.prototype.getCanvasHeight=function(){return this._$1S},K.prototype._$F0=function(e){this._$vo=e._$nP(),this._$F2=e._$nP(),this._$ao=e._$6L(),this._$1S=e._$6L()},K.prototype._$6S=function(e){this._$F2.push(e)},K.prototype._$Xr=function(){return this._$F2},K.prototype._$E2=function(){return this._$vo},w.prototype.setup=function(e,n,t){this._$ks=this._$Yb(),this.p2._$xT(),3==arguments.length&&(this._$Fo=e,this._$L2=n,this.p1._$p=t,this.p2._$p=t,this.p2.y=e,this.setup())},w.prototype.getPhysicsPoint1=function(){return this.p1},w.prototype.getPhysicsPoint2=function(){return this.p2},w.prototype._$qr=function(){return this._$Db},w.prototype._$pr=function(e){this._$Db=e},w.prototype._$5r=function(){return this._$M2},w.prototype._$Cs=function(){return this._$9b},w.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},w.prototype.addSrcParam=function(e,t,n,s){var o=new e4(e,t,n,s);this._$lL.push(o)},w.prototype.addTargetParam=function(e,t,n,s){var o=new em(e,t,n,s);this._$qP.push(o)},w.prototype.update=function(t,n){if(0==this._$iP)return this._$iP=this._$iT=n,void(this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));var s=(n-this._$iT)/1e3,e;if(0!=s){for(e=this._$lL.length-1;e>=0;--e)this._$lL[e]._$oP(t,this);this._$oo(t,s),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/s,this._$ks=this._$M2}for(e=this._$qP.length-1;e>=0;--e)this._$qP[e]._$YS(t,this);this._$iT=n},w.prototype._$oo=function(p,e){e<.033&&(e=.033),t=1/e,this.p1.vx=(this.p1.x-this.p1._$s0)*t,this.p1.vy=(this.p1.y-this.p1._$70)*t,this.p1.ax=(this.p1.vx-this.p1._$7L)*t,this.p1.ay=(this.p1.vy-this.p1._$HL)*t,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var t,s=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),r=Math.cos(s),n=Math.sin(s),l=9.8*this.p2._$p,d=this._$Db*k._$bS,o=l*Math.cos(s-d),c,i=o*n,a=o*r,u=-this.p1.fx*n*n,h=-this.p1.fy*n*r,m=-this.p2.vx*this._$L2,f=-this.p2.vy*this._$L2;this.p2.fx=i+u+m,this.p2.fy=a+h+f,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*e,this.p2.vy+=this.p2.ay*e,this.p2.x+=this.p2.vx*e,this.p2.y+=this.p2.vy*e,c=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)),this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/c,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/c,this.p2.vx=(this.p2.x-this.p2._$s0)*t,this.p2.vy=(this.p2.y-this.p2._$70)*t,this.p2._$xT()},eh.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy},e3.prototype._$oP=function(){},e4.prototype=new e3,e4.prototype._$oP=function(o,t){var n=this.scale*o.getParamFloat(this._$wL),e=t.getPhysicsPoint1(),s;switch(this._$tL){default:case w.Src.SRC_TO_X:e.x=e.x+(n-e.x)*this._$V0;break;case w.Src.SRC_TO_Y:e.y=e.y+(n-e.y)*this._$V0;break;case w.Src.SRC_TO_G_ANGLE:s=t._$qr(),s+=(n-s)*this._$V0,t._$pr(s)}},e0.prototype._$YS=function(){},em.prototype=new e0,em.prototype._$YS=function(e,t){switch(this._$YP){default:case w.Target.TARGET_FROM_ANGLE:e.setParamFloat(this._$wL,this.scale*t._$5r(),this._$V0);break;case w.Target.TARGET_FROM_ANGLE_V:e.setParamFloat(this._$wL,this.scale*t._$Cs(),this._$V0)}},w.Src=function(){},w.Src.SRC_TO_X="SRC_TO_X",w.Src.SRC_TO_Y="SRC_TO_Y",w.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",w.Target=function(){},w.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",w.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V",eo.prototype.init=function(e){this._$fL=e._$fL,this._$gL=e._$gL,this._$B0=e._$B0,this._$z0=e._$z0,this._$qT=e._$qT,this.reflectX=e.reflectX,this.reflectY=e.reflectY},eo.prototype._$F0=function(e){this._$fL=e._$_T(),this._$gL=e._$_T(),this._$B0=e._$_T(),this._$z0=e._$_T(),this._$qT=e._$_T(),e.getFormatVersion()>=j.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=e._$po(),this.reflectY=e._$po())},eo.prototype._$e=function(){},ef=function(){};function V(){i||(this.x=null,this.y=null,this.width=null,this.height=null)}function Y(){}function ed(){i||(this.x=null,this.y=null)}function u(){i||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}function p(){i||(this._$Eb=p._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=p.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}function ei(){i||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=t.L2D_COLOR_BLEND_MODE_MULT)}function g(){i||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}function l(){}function T(){i||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=T._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}function b(){}function $(){i||(this._$Ob=null)}function H(){this.m=new Float32Array(16),this.identity()}function I(e){i||G.prototype.constructor.call(this,e)}function o(){i||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}function A(){i||(N.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=A._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}function J(){this._$P=new Float32Array(100),this.size=0}function c(){this._$4P=null,this._$I0=null,this._$RP=null}function d(){}function j(){}function n(e){i||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(n._$is),this._$_2=new Float32Array(n._$is),this._$vr=new Float32Array(n._$is),this._$Rr=new Float32Array(n._$is),this._$Or=new Float32Array(n._$is),this._$fs=new Float32Array(n._$is),this._$Js=new Array(n._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(d._$Qb),this._$ZP=new Float32Array(2*d._$1r),this._$Ri=e,this._$b0=n._$HP++,this.clipManager=null,this.dp_webgl=null)}function er(){}function el(){i||(this._$12=null,this._$bb=null,this._$_L=null,this._$jo=null,this._$iL=null,this._$0L=null,this._$Br=null,this._$Dr=null,this._$Cb=null,this._$mr=null,this._$_L=U.STATE_FIRST,this._$Br=4e3,this._$Dr=100,this._$Cb=50,this._$mr=150,this._$jo=!0,this._$iL="PARAM_EYE_L_OPEN",this._$0L="PARAM_EYE_R_OPEN")}ef._$ni=function(i,a,d,r,t,o,c,l,s){var u=c*o-l*t,e,n;return 0==u?null:(n=((i-d)*o-(a-r)*t)/u,e=0!=t?(i-d-n*c)/t:(a-r-n*l)/o,isNaN(e)&&(e=(i-d-n*c)/t,isNaN(e)&&(e=(a-r-n*l)/o),isNaN(e)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+t),console.log("v1x != 0 ? "+(0!=t)))),null==s?new Array(e,n):(s[0]=e,s[1]=n,s))},V.prototype._$8P=function(){return this.x+.5*this.width},V.prototype._$6P=function(){return this.y+.5*this.height},V.prototype._$EL=function(){return this.x+this.width},V.prototype._$5T=function(){return this.y+this.height},V.prototype._$jL=function(e,t,n,s){this.x=e,this.y=t,this.width=n,this.height=s},V.prototype._$jL=function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},V.prototype.contains=function(){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},V.prototype.expand=function(e,t){this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t},Y._$Z2=function(j,D,q,t){var r=D._$Q2(j,q),e=j._$vs(),s=j._$Tr();if(D._$zr(e,s,r),r<=0)return t[e[0]];if(1==r)return(a=t[e[0]])+((h=t[e[1]])-a)*(n=s[0])|0;if(2==r){var a=t[e[0]],h=t[e[1]],l=t[e[2]],y=t[e[3]],n=s[0],i=s[1];return(c=a+(h-a)*n|0)+((l+(y-l)*n|0)-c)*i|0}if(3==r){var m=t[e[0]],w=t[e[1]],p=t[e[2]],x=t[e[3]],v=t[e[4]],_=t[e[5]],b=t[e[6]],A=t[e[7]],g=(n=s[0],i=s[1],s[2]);return(c=(a=m+(w-m)*n|0)+((h=p+(x-p)*n|0)-a)*i|0)+(((l=v+(_-v)*n|0)+((y=b+(A-b)*n|0)-l)*i|0)-c)*g|0}if(4==r){var c,O=t[e[0]],Y=t[e[1]],C=t[e[2]],K=t[e[3]],k=t[e[4]],U=t[e[5]],S=t[e[6]],W=t[e[7]],F=t[e[8]],$=t[e[9]],z=t[e[10]],V=t[e[11]],N=t[e[12]],B=t[e[13]],R=t[e[14]],I=t[e[15]],H=(n=s[0],i=s[1],g=s[2],s[3]),E,o,P;return(c=(a=(m=O+(Y-O)*n|0)+((w=C+(K-C)*n|0)-m)*i|0)+((h=(p=k+(U-k)*n|0)+((x=S+(W-S)*n|0)-p)*i|0)-a)*g|0)+(((l=(v=F+($-F)*n|0)+((_=z+(V-z)*n|0)-v)*i|0)+((y=(b=N+(B-N)*n|0)+((A=R+(I-R)*n|0)-b)*i|0)-l)*g|0)-c)*H|0}for(var d=1<<r,L=new Float32Array(d),f=0;f<d;f++){for(var T=f,M=1,u=0;u<r;u++)M*=T%2==0?1-s[u]:s[u],T/=2;L[f]=M}for(E=new Float32Array(d),o=0;o<d;o++)E[o]=t[e[o]];P=0;for(o=0;o<d;o++)P+=L[o]*E[o];return P+.5|0},Y._$br=function(h,M,K,t){var a=M._$Q2(h,K),e=h._$vs(),o=h._$Tr();if(M._$zr(e,o,a),a<=0)return t[e[0]];if(1==a)return(d=t[e[0]])+((E=t[e[1]])-d)*(n=o[0]);if(2==a){var d=t[e[0]],E=t[e[1]],x=t[e[2]],U=t[e[3]],n=o[0];return(1-(s=o[1]))*(d+(E-d)*n)+s*(x+(U-x)*n)}if(3==a){var j=t[e[0]],W=t[e[1]],f=t[e[2]],$=t[e[3]],g=t[e[4]],V=t[e[5]],b=t[e[6]],B=t[e[7]],s=(n=o[0],o[1]);return(1-(r=o[2]))*((1-s)*(j+(W-j)*n)+s*(f+($-f)*n))+r*((1-s)*(g+(V-g)*n)+s*(b+(B-b)*n))}if(4==a){var _=t[e[0]],I=t[e[1]],O=t[e[2]],q=t[e[3]],C=t[e[4]],H=t[e[5]],k=t[e[6]],P=t[e[7]],S=t[e[8]],R=t[e[9]],F=t[e[10]],N=t[e[11]],m=t[e[12]],D=t[e[13]],T=t[e[14]],L=t[e[15]],r=(n=o[0],s=o[1],o[2]),A=o[3],y,i,z;return(1-A)*((1-r)*((1-s)*(_+(I-_)*n)+s*(O+(q-O)*n))+r*((1-s)*(C+(H-C)*n)+s*(k+(P-k)*n)))+A*((1-r)*((1-s)*(S+(R-S)*n)+s*(F+(N-F)*n))+r*((1-s)*(m+(D-m)*n)+s*(T+(L-T)*n)))}for(var c=1<<a,w=new Float32Array(c),u=0;u<c;u++){for(var v=u,p=1,l=0;l<a;l++)p*=v%2==0?1-o[l]:o[l],v/=2;w[u]=p}for(y=new Float32Array(c),i=0;i<c;i++)y[i]=t[e[i]];z=0;for(i=0;i<c;i++)z+=w[i]*y[i];return z},Y._$Vr=function(E,e_,eC,ex,n,u,ev,j){var v=e_._$Q2(E,eC),t=E._$vs(),d=E._$Tr();if(e_._$zr(t,d,v),b=2*ex,o=ev,v<=0)if(p=n[t[0]],2==j&&0==ev)l._$jT(p,0,u,0,b);else for(e=0;e<b;)u[o]=p[e++],u[o+1]=p[e++],o+=j;else if(1==v){p=n[t[0]],_=n[t[1]],a=1-(s=d[0]);for(e=0;e<b;)u[o]=p[e]*a+_[e]*s,++e,u[o+1]=p[e]*a+_[e]*s,++e,o+=j}else if(2==v){p=n[t[0]],_=n[t[1]];var e7=n[t[2]],e4=n[t[3]],s=d[0],ec=(c=1-(i=d[1]))*(a=1-s),er=c*s,ea=i*a,U=i*s;for(e=0;e<b;)u[o]=ec*p[e]+er*_[e]+ea*e7[e]+U*e4[e],++e,u[o+1]=ec*p[e]+er*_[e]+ea*e7[e]+U*e4[e],++e,o+=j}else if(3==v){var $=n[t[0]],V=n[t[1]],z=n[t[2]],A=n[t[3]],S=n[t[4]],M=n[t[5]],F=n[t[6]],T=n[t[7]],i=(s=d[0],d[1]),D=(h=1-(r=d[2]))*(c=1-i)*(a=1-s),N=h*c*s,L=h*i*a,R=h*i*s,P=r*c*a,H=r*c*s,I=r*i*a,B=r*i*s;for(e=0;e<b;)u[o]=D*$[e]+N*V[e]+L*z[e]+R*A[e]+P*S[e]+H*M[e]+I*F[e]+B*T[e],++e,u[o+1]=D*$[e]+N*V[e]+L*z[e]+R*A[e]+P*S[e]+H*M[e]+I*F[e]+B*T[e],++e,o+=j}else if(4==v){var b,o,p,e,_,a,c,h,W=n[t[0]],k=n[t[1]],K=n[t[2]],q=n[t[3]],Y=n[t[4]],G=n[t[5]],X=n[t[6]],Q=n[t[7]],Z=n[t[8]],J=n[t[9]],ee=n[t[10]],et=n[t[11]],en=n[t[12]],es=n[t[13]],eo=n[t[14]],ei=n[t[15]],r=(s=d[0],i=d[1],d[2]),f=d[3],g=1-f,el=g*(h=1-r)*(c=1-i)*(a=1-s),ed=g*h*c*s,eu=g*h*i*a,e1=g*h*i*s,ew=g*r*c*a,e0=g*r*c*s,e2=g*r*i*a,e3=g*r*i*s,eh=f*h*c*a,em=f*h*c*s,e8=f*h*i*a,ef=f*h*i*s,e6=f*r*c*a,ep=f*r*c*s,eg=f*r*i*a,e5=f*r*i*s,C,m;for(e=0;e<b;)u[o]=el*W[e]+ed*k[e]+eu*K[e]+e1*q[e]+ew*Y[e]+e0*G[e]+e2*X[e]+e3*Q[e]+eh*Z[e]+em*J[e]+e8*ee[e]+ef*et[e]+e6*en[e]+ep*es[e]+eg*eo[e]+e5*ei[e],++e,u[o+1]=el*W[e]+ed*k[e]+eu*K[e]+e1*q[e]+ew*Y[e]+e0*G[e]+e2*X[e]+e3*Q[e]+eh*Z[e]+em*J[e]+e8*ee[e]+ef*et[e]+e6*en[e]+ep*es[e]+eg*eo[e]+e5*ei[e],++e,o+=j}else{for(var y=1<<v,x=new Float32Array(y),w=0;w<y;w++){for(var eb=w,ej=1,O=0;O<v;O++)ej*=eb%2==0?1-d[O]:d[O],eb/=2;x[w]=ej}for(C=new Float32Array(y),m=0;m<y;m++)C[m]=n[t[m]];for(e=0;e<b;){var e9=0,ey=0,eO=e+1;for(m=0;m<y;m++)e9+=x[m]*C[m][e],ey+=x[m]*C[m][eO];e+=2,u[o]=e9,u[o+1]=ey,o+=j}}},ed.prototype._$HT=function(e,t){this.x=e,this.y=t},ed.prototype._$HT=function(e){this.x=e.x,this.y=e.y},u._$ur=-2,u._$ES=500,u._$wb=2,u._$8S=3,u._$52=u._$ES,u._$R2=u._$ES,u._$or=function(){return u._$52},u._$Pr=function(){return u._$R2},u.prototype.convertClipIDForV2_11=function(e){var t=[];return null==e?null:0==e.length?null:/,/.test(e)?t=e.id.split(","):(t.push(e.id),t)},u.prototype._$F0=function(e){this._$gP=e._$nP(),this._$dr=e._$nP(),this._$GS=e._$nP(),this._$qb=e._$6L(),this._$Lb=e._$cS(),this._$mS=e._$Tb(),e.getFormatVersion()>=j._$T7?(this.clipID=e._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},u.prototype.getClipIDList=function(){return this.clipIDList},u.prototype.init=function(){},u.prototype._$Nr=function(n,e){if(e._$IS[0]=!1,e._$Us=Y._$Z2(n,this._$GS,e._$IS,this._$Lb),t._$Zs);else if(e._$IS[0])return;e._$7s=Y._$br(n,this._$GS,e._$IS,this._$mS)},u.prototype._$2b=function(){},u.prototype.getDrawDataID=function(){return this._$gP},u.prototype._$j2=function(e){this._$gP=e},u.prototype.getOpacity=function(t,e){return e._$7s},u.prototype._$zS=function(t,e){return e._$Us},u.prototype._$MS=function(n){for(var t=n.length-1,e;t>=0;--t)e=n[t],e<u._$52?u._$52=e:e>u._$R2&&(u._$R2=e)},u.prototype.getTargetBaseDataID=function(){return this._$dr},u.prototype._$gs=function(e){this._$dr=e},u.prototype._$32=function(){return null!=this._$dr&&this._$dr!=E._$2o()},u.prototype.preDraw=function(){},u.prototype.draw=function(){},u.prototype.getType=function(){},u.prototype._$B2=function(){},p._$ps=32,p.CLIPPING_PROCESS_NONE=0,p.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,p.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,p.CLIPPING_PROCESS_DRAW=3,p.CLIPPING_PROCESS_CLEAR_ALPHA=4,p.prototype.setChannelFlagAsColor=function(e,t){this.CHANNEL_COLORS[e]=t},p.prototype.getChannelFlagAsColor=function(e){return this.CHANNEL_COLORS[e]},p.prototype._$ZT=function(){},p.prototype._$Uo=function(){},p.prototype._$Rs=function(){return-1},p.prototype._$Ds=function(){},p.prototype.setBaseColor=function(e,t,n,s){e<0?e=0:e>1&&(e=1),t<0?t=0:t>1&&(t=1),n<0?n=0:n>1&&(n=1),s<0?s=0:s>1&&(s=1),this._$lT=e,this._$C0=t,this._$tT=n,this._$WL=s},p.prototype._$WP=function(e){this.culling=e},p.prototype.setMatrix=function(t){for(var e=0;e<16;e++)this.matrix4x4[e]=t[e]},p.prototype._$IT=function(){return this.matrix4x4},p.prototype.setPremultipliedAlpha=function(e){this.premultipliedAlpha=e},p.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},p.prototype.setAnisotropy=function(e){this.anisotropy=e},p.prototype.getAnisotropy=function(){return this.anisotropy},p.prototype.getClippingProcess=function(){return this.clippingProcess},p.prototype.setClippingProcess=function(e){this.clippingProcess=e},p.prototype.setClipBufPre_clipContextForMask=function(e){this.clipBufPre_clipContextMask=e},p.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},p.prototype.setClipBufPre_clipContextForDraw=function(e){this.clipBufPre_clipContextDraw=e},p.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw},g._$ur=-2,g._$c2=1,g._$_b=2,g.prototype._$F0=function(e){this._$kP=e._$nP(),this._$dr=e._$nP()},g.prototype.readV2_opacity=function(e){e.getFormatVersion()>=j.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=e._$Tb())},g.prototype.init=function(){},g.prototype._$Nr=function(){},g.prototype.interpolateOpacity=function(t,n,e,s){null==this._$mS?e.setInterpolatedOpacity(1):e.setInterpolatedOpacity(Y._$br(t,n,s,this._$mS))},g.prototype._$2b=function(){},g.prototype._$nb=function(){},g.prototype.getType=function(){},g.prototype._$gs=function(e){this._$dr=e},g.prototype._$a2=function(e){this._$kP=e},g.prototype.getTargetBaseDataID=function(){return this._$dr},g.prototype.getBaseDataID=function(){return this._$kP},g.prototype._$32=function(){return null!=this._$dr&&this._$dr!=E._$2o()},l._$W2=0,l._$CS=l._$W2,l._$Mo=function(){return!0},l._$XP=function(e){try{for(var t=getTimeMSec();getTimeMSec()-t<e;);}catch(e){e._$Rb()}},l.getUserTimeMSec=function(){return l._$CS==l._$W2?l.getSystemTimeMSec():l._$CS},l.setUserTimeMSec=function(e){l._$CS=e},l.updateUserTimeMSec=function(){return l._$CS=l.getSystemTimeMSec()},l.getTimeMSec=function(){return(new Date).getTime()},l.getSystemTimeMSec=function(){return(new Date).getTime()},l._$Q=function(){},l._$jT=function(t,n,s,o,i){for(var e=0;e<i;e++)s[o+e]=t[n+e]},T._$ds=-2,T.prototype._$F0=function(e){this._$wL=e._$nP(),this._$VP=e._$6L(),this._$GP=e._$nP()},T.prototype.getParamIndex=function(e){return this._$2r!=e&&(this._$8o=T._$ds),this._$8o},T.prototype._$Pb=function(e,t){this._$8o=e,this._$2r=t},T.prototype.getParamID=function(){return this._$wL},T.prototype._$yP=function(e){this._$wL=e},T.prototype._$N2=function(){return this._$VP},T.prototype._$d2=function(){return this._$GP},T.prototype._$t2=function(e,t){this._$VP=e,this._$GP=t},T.prototype._$Lr=function(){return this._$O2},T.prototype._$wr=function(e){this._$O2=e},T.prototype._$SL=function(){return this._$ri},T.prototype._$AL=function(e){this._$ri=e},b.startsWith=function(n,t,s){var o=t+s.length,e;if(o>=n.length)return!1;for(e=t;e<o;e++)if(b.getChar(n,e)!=s.charAt(e-t))return!1;return!0},b.getChar=function(e,t){return String.fromCharCode(e.getUint8(t))},b.createString=function(s,o,t){for(var i=new ArrayBuffer(2*t),n=new Uint16Array(i),e=0;e<t;e++)n[e]=s.getUint8(o+e);return String.fromCharCode.apply(null,n)},b._$LS=function(s,c,d,u){s instanceof ArrayBuffer&&(s=new DataView(s));var t=d,a=!1,r=!1,e=0,o=b.getChar(s,t),i,n,l;"-"==o&&(a=!0,t++);for(i=!1;t<c;t++){switch(o=b.getChar(s,t)){case"0":e*=10;break;case"1":e=10*e+1;break;case"2":e=10*e+2;break;case"3":e=10*e+3;break;case"4":e=10*e+4;break;case"5":e=10*e+5;break;case"6":e=10*e+6;break;case"7":e=10*e+7;break;case"8":e=10*e+8;break;case"9":e=10*e+9;break;case".":r=!0,t++,i=!0;break;default:i=!0}if(i)break}if(r)for(n=.1,l=!1;t<c;t++){switch(o=b.getChar(s,t)){case"0":break;case"1":e+=1*n;break;case"2":e+=2*n;break;case"3":e+=3*n;break;case"4":e+=4*n;break;case"5":e+=5*n;break;case"6":e+=6*n;break;case"7":e+=7*n;break;case"8":e+=8*n;break;case"9":e+=9*n;break;default:l=!0}if(n*=.1,l)break}return a&&(e=-e),u[0]=t,e},$.prototype._$zP=function(){this._$Ob=new Array},$.prototype._$F0=function(e){this._$Ob=e._$nP()},$.prototype._$Ur=function(e){if(e._$WS())return!0;for(var s=e._$v2(),t=this._$Ob.length-1,n;t>=0;--t)if(n=this._$Ob[t].getParamIndex(s),n==T._$ds&&(n=e.getParamIndex(this._$Ob[t].getParamID())),e._$Xb(n))return!0;return!1},$.prototype._$Q2=function(u,m){for(var o,i,v=this._$Ob.length,f=u._$v2(),p=0,l=0,e,s,g,a;l<v;l++){if(e=this._$Ob[l],(o=e.getParamIndex(f))==T._$ds&&(o=u.getParamIndex(e.getParamID()),e._$Pb(o,f)),o<0)throw new Exception("err 23242 : "+e.getParamID());s=o<0?0:u.getParamFloat(o),i=e._$N2();var n,c,h=e._$d2(),t=-1,r=0;if(i<1);else if(1==i)(n=h[0])-d._$J<s&&s<n+d._$J?(t=0,r=0):(t=0,m[0]=!0);else if(s<(n=h[0])-d._$J)t=0,m[0]=!0;else if(s<n+d._$J)t=0;else{for(g=!1,a=1;a<i;++a){if(s<(c=h[a])+d._$J){c-d._$J<s?t=a:(t=a-1,r=(s-n)/(c-n),p++),g=!0;break}n=c}g||(t=i-1,r=0,m[0]=!0)}e._$wr(t),e._$AL(r)}return p},$.prototype._$zr=function(i,u,m){s=1<<m,s+1>d._$Qb&&console.log("err 23245\n");for(var s,h=this._$Ob.length,o=1,c=1,l=0,e=0,a,n,r,f;e<s;++e)i[e]=0;for(a=0;a<h;++a){if(n=this._$Ob[a],0==n._$SL()){if((r=n._$Lr()*o)<0&&t._$3T)throw new Exception("err 23246");for(e=0;e<s;++e)i[e]+=r}else{r=o*n._$Lr(),f=o*(n._$Lr()+1);for(e=0;e<s;++e)i[e]+=(e/c|0)%2==0?r:f;u[l++]=n._$SL(),c*=2}o*=n._$N2()}i[s]=65535,u[l]=-1},$.prototype._$h2=function(o,t,i){for(var s=new Float32Array(t),e=0,n;e<t;++e)s[e]=i[e];n=new T,n._$yP(o),n._$t2(t,s),this._$Ob.push(n)},$.prototype._$J2=function(a){for(var s=a,o=this._$Ob.length,t=0;t<o;++t){var e=this._$Ob[t],i=e._$N2(),n=s%e._$N2(),r=e._$d2()[n];console.log("%s[%d]=%7.2f / ",e.getParamID(),n,r),s/=i}console.log("\n")},$.prototype.getParamCount=function(){return this._$Ob.length},$.prototype._$zs=function(){return this._$Ob},H.prototype.identity=function(){for(var e=0;e<16;e++)this.m[e]=e%5==0?1:0},H.prototype.getArray=function(){return this.m},H.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},H.prototype.setMatrix=function(t){if(null!=t&&16==t.length)for(var e=0;e<16;e++)this.m[e]=t[e]},H.prototype.mult=function(t,e,n){return null==e?null:(this==e?this.mult_safe(this.m,t.m,e.m,n):this.mult_fast(this.m,t.m,e.m,n),e)},H.prototype.mult_safe=function(t,s,n,o){if(t==n){var i=new Array(16),e;this.mult_fast(t,s,i,o);for(e=15;e>=0;--e)n[e]=i[e]}else this.mult_fast(t,s,n,o)},H.prototype.mult_fast=function(e,t,n,s){s?(n[0]=e[0]*t[0]+e[4]*t[1]+e[8]*t[2],n[4]=e[0]*t[4]+e[4]*t[5]+e[8]*t[6],n[8]=e[0]*t[8]+e[4]*t[9]+e[8]*t[10],n[12]=e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12],n[1]=e[1]*t[0]+e[5]*t[1]+e[9]*t[2],n[5]=e[1]*t[4]+e[5]*t[5]+e[9]*t[6],n[9]=e[1]*t[8]+e[5]*t[9]+e[9]*t[10],n[13]=e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13],n[2]=e[2]*t[0]+e[6]*t[1]+e[10]*t[2],n[6]=e[2]*t[4]+e[6]*t[5]+e[10]*t[6],n[10]=e[2]*t[8]+e[6]*t[9]+e[10]*t[10],n[14]=e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14],n[3]=n[7]=n[11]=0,n[15]=1):(n[0]=e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],n[4]=e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],n[8]=e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],n[12]=e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],n[1]=e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],n[5]=e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],n[9]=e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],n[13]=e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],n[2]=e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],n[6]=e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],n[10]=e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],n[14]=e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],n[3]=e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],n[7]=e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],n[11]=e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],n[15]=e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15])},H.prototype.translate=function(e,t,n){this.m[12]=this.m[0]*e+this.m[4]*t+this.m[8]*n+this.m[12],this.m[13]=this.m[1]*e+this.m[5]*t+this.m[9]*n+this.m[13],this.m[14]=this.m[2]*e+this.m[6]*t+this.m[10]*n+this.m[14],this.m[15]=this.m[3]*e+this.m[7]*t+this.m[11]*n+this.m[15]},H.prototype.scale=function(e,t,n){this.m[0]*=e,this.m[4]*=t,this.m[8]*=n,this.m[1]*=e,this.m[5]*=t,this.m[9]*=n,this.m[2]*=e,this.m[6]*=t,this.m[10]*=n,this.m[3]*=e,this.m[7]*=t,this.m[11]*=n},H.prototype.rotateX=function(s){var t=k.fcos(s),n=k._$9(s),e=this.m[4];this.m[4]=e*t+this.m[8]*n,this.m[8]=e*-n+this.m[8]*t,e=this.m[5],this.m[5]=e*t+this.m[9]*n,this.m[9]=e*-n+this.m[9]*t,e=this.m[6],this.m[6]=e*t+this.m[10]*n,this.m[10]=e*-n+this.m[10]*t,e=this.m[7],this.m[7]=e*t+this.m[11]*n,this.m[11]=e*-n+this.m[11]*t},H.prototype.rotateY=function(s){var t=k.fcos(s),n=k._$9(s),e=this.m[0];this.m[0]=e*t+this.m[8]*-n,this.m[8]=e*n+this.m[8]*t,e=this.m[1],this.m[1]=e*t+this.m[9]*-n,this.m[9]=e*n+this.m[9]*t,e=m[2],this.m[2]=e*t+this.m[10]*-n,this.m[10]=e*n+this.m[10]*t,e=m[3],this.m[3]=e*t+this.m[11]*-n,this.m[11]=e*n+this.m[11]*t},H.prototype.rotateZ=function(s){var t=k.fcos(s),n=k._$9(s),e=this.m[0];this.m[0]=e*t+this.m[4]*n,this.m[4]=e*-n+this.m[4]*t,e=this.m[1],this.m[1]=e*t+this.m[5]*n,this.m[5]=e*-n+this.m[5]*t,e=this.m[2],this.m[2]=e*t+this.m[6]*n,this.m[6]=e*-n+this.m[6]*t,e=this.m[3],this.m[3]=e*t+this.m[7]*n,this.m[7]=e*-n+this.m[7]*t},I.prototype=new G,I._$tP=new Object,I._$27=function(){I._$tP.clear()},I.getID=function(t){var e=I._$tP[t];return null==e&&(e=new I(t),I._$tP[t]=e),e},I.prototype._$3s=function(){return new I},o._$kS=-1,o._$pS=0,o._$hb=1,o.STATE_IDENTITY=0,o._$gb=1,o._$fo=2,o._$go=4,o.prototype.transform=function(e,t,m){var h,u,r,a,c,d,s=0,n=0,i,f;switch(this._$hi){default:return;case o._$go|o._$fo|o._$gb:for(h=this._$7,u=this._$H,r=this._$k,a=this._$f,c=this._$g,d=this._$w;--m>=0;)i=e[s++],f=e[s++],t[n++]=h*i+u*f+r,t[n++]=a*i+c*f+d;return;case o._$go|o._$fo:for(h=this._$7,u=this._$H,a=this._$f,c=this._$g;--m>=0;)i=e[s++],f=e[s++],t[n++]=h*i+u*f,t[n++]=a*i+c*f;return;case o._$go|o._$gb:for(u=this._$H,r=this._$k,a=this._$f,d=this._$w;--m>=0;)i=e[s++],t[n++]=u*e[s++]+r,t[n++]=a*i+d;return;case o._$go:for(u=this._$H,a=this._$f;--m>=0;)i=e[s++],t[n++]=u*e[s++],t[n++]=a*i;return;case o._$fo|o._$gb:for(h=this._$7,r=this._$k,c=this._$g,d=this._$w;--m>=0;)t[n++]=h*e[s++]+r,t[n++]=c*e[s++]+d;return;case o._$fo:for(h=this._$7,c=this._$g;--m>=0;)t[n++]=h*e[s++],t[n++]=c*e[s++];return;case o._$gb:for(r=this._$k,d=this._$w;--m>=0;)t[n++]=e[s++]+r,t[n++]=e[s++]+d;return;case o.STATE_IDENTITY:return void(e==t&&s==n||l._$jT(e,s,t,n,2*m))}},o.prototype.update=function(){0==this._$H&&0==this._$f?1==this._$7&&1==this._$g?0==this._$k&&0==this._$w?(this._$hi=o.STATE_IDENTITY,this._$Z=o._$pS):(this._$hi=o._$gb,this._$Z=o._$hb):0==this._$k&&0==this._$w?(this._$hi=o._$fo,this._$Z=o._$kS):(this._$hi=o._$fo|o._$gb,this._$Z=o._$kS):0==this._$7&&0==this._$g?0==this._$k&&0==this._$w?(this._$hi=o._$go,this._$Z=o._$kS):(this._$hi=o._$go|o._$gb,this._$Z=o._$kS):0==this._$k&&0==this._$w?(this._$hi=o._$go|o._$fo,this._$Z=o._$kS):(this._$hi=o._$go|o._$fo|o._$gb,this._$Z=o._$kS)},o.prototype._$RT=function(e){this._$IT(e);var n=e[0],i=e[2],s=e[1],a=e[3],o=Math.sqrt(n*n+s*s),r=n*a-i*s;0==o?t._$so&&console.log("affine._$RT() / rt==0"):(e[0]=o,e[1]=r/o,e[2]=(s*a+n*i)/r,e[3]=Math.atan2(s,n))},o.prototype._$ho=function(a,o,s,i){var e=new Float32Array(6),n=new Float32Array(6),t;a._$RT(e),o._$RT(n),t=new Float32Array(6),t[0]=e[0]+(n[0]-e[0])*s,t[1]=e[1]+(n[1]-e[1])*s,t[2]=e[2]+(n[2]-e[2])*s,t[3]=e[3]+(n[3]-e[3])*s,t[4]=e[4]+(n[4]-e[4])*s,t[5]=e[5]+(n[5]-e[5])*s,i._$CT(t)},o.prototype._$CT=function(e){var t=Math.cos(e[3]),n=Math.sin(e[3]);this._$7=e[0]*t,this._$f=e[0]*n,this._$H=e[1]*(e[2]*t-n),this._$g=e[1]*(e[2]*n+t),this._$k=e[4],this._$w=e[5],this.update()},o.prototype._$IT=function(e){e[0]=this._$7,e[1]=this._$f,e[2]=this._$H,e[3]=this._$g,e[4]=this._$k,e[5]=this._$w},A.prototype=new N,A._$cs="VISIBLE:",A._$ar="LAYOUT:",A._$Co=0,A._$D2=[],A._$1T=1,A.loadMotion=function(t){var r=new A,l=[0],a=t.length,e,n,o,u,h,s,i,m,d;r._$yT=0;for(e=0;e<a;++e)if(n=255&t[e],"\n"!=n&&"\r"!=n)if("#"!=n)if("$"!=n){if("a"<=n&&n<="z"||"A"<=n&&n<="Z"||"_"==n){for(s=e,i=-1;e<a&&"\r"!=(n=255&t[e])&&"\n"!=n;++e)if("="==n){i=e;break}if(i>=0){o=new c,b.startsWith(t,s,A._$cs)?(o._$RP=c._$hs,o._$4P=new String(t,s,i-s)):b.startsWith(t,s,A._$ar)?(o._$4P=new String(t,s+7,i-s-7),b.startsWith(t,s+7,"ANCHOR_X")?o._$RP=c._$xs:b.startsWith(t,s+7,"ANCHOR_Y")?o._$RP=c._$us:b.startsWith(t,s+7,"SCALE_X")?o._$RP=c._$qs:b.startsWith(t,s+7,"SCALE_Y")?o._$RP=c._$Ys:b.startsWith(t,s+7,"X")?o._$RP=c._$ws:b.startsWith(t,s+7,"Y")&&(o._$RP=c._$Ns)):(o._$RP=c._$Fr,o._$4P=new String(t,s,i-s)),r.motions.push(o),u=0;for(A._$D2.clear(),e=i+1;e<a&&"\r"!=(n=255&t[e])&&"\n"!=n;++e)if(","!=n&&" "!=n&&"	"!=n)if(d=b._$LS(t,a,e,l),l[0]>0){if(A._$D2.push(d),u++,h=l[0],h<e){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}e=h}o._$I0=A._$D2._$BL(),u>r._$yT&&(r._$yT=u)}}}else{for(s=e,i=-1;e<a&&"\r"!=(n=255&t[e])&&"\n"!=n;++e)if("="==n){i=e;break}if(m=!1,i>=0)for(i==s+4&&"f"==t[s+1]&&"p"==t[s+2]&&"s"==t[s+3]&&(m=!0),e=i+1;e<a&&"\r"!=(n=255&t[e])&&"\n"!=n;++e)","!=n&&" "!=n&&"	"!=n&&(d=b._$LS(t,a,e,l),l[0]>0&&m&&5<d&&d<121&&(r._$D0=d),e=l[0]);for(;e<a&&"\n"!=t[e]&&"\r"!=t[e];++e);}else for(;e<a&&"\n"!=t[e]&&"\r"!=t[e];++e);return r._$AS=1e3*r._$yT/r._$D0|0,r},A.prototype.getDurationMSec=function(){return this._$AS},A.prototype.dump=function(){for(var n=0,e,t;n<this.motions.length;n++){e=this.motions[n],console.log("_$wL[%s] [%d]. ",e._$4P,e._$I0.length);for(t=0;t<e._$I0.length&&t<10;t++)console.log("%5.2f ,",e._$I0[t]);console.log("\n")}},A.prototype.updateParamExe=function(r,o,m,s){for(var l=(o-s._$z2)*this._$D0/1e3,t=0|l,h=l-t,a=0,f;a<this.motions.length;a++){var e=this.motions[a],n=e._$I0.length,i=e._$4P;if(e._$RP==c._$hs)f=e._$I0[t>=n?n-1:t],r.setParamFloat(i,f);else if(c._$ws<=e._$RP&&e._$RP<=c._$Ys);else{var d=r.getParamFloat(i),u=e._$I0[t>=n?n-1:t],p=d+(u+(e._$I0[t+1>=n?n-1:t+1]-u)*h-d)*m;r.setParamFloat(i,p)}}t>=this._$yT&&(this._$E?(s._$z2=o,this.loopFadeIn&&(s._$bs=o)):s._$9L=!0)},A.prototype._$r0=function(){return this._$E},A.prototype._$aL=function(e){this._$E=e},A.prototype.isLoopFadeIn=function(){return this.loopFadeIn},A.prototype.setLoopFadeIn=function(e){this.loopFadeIn=e},J.prototype.clear=function(){this.size=0},J.prototype.add=function(t){if(this._$P.length<=this.size){var e=new Float32Array(2*this.size);l._$jT(this._$P,0,e,0,this.size),this._$P=e}this._$P[this.size++]=t},J.prototype._$BL=function(){var e=new Float32Array(this.size);return l._$jT(this._$P,0,e,0,this.size),e},c._$Fr=0,c._$hs=1,c._$ws=100,c._$Ns=101,c._$xs=102,c._$us=103,c._$qs=104,c._$Ys=105,d._$Ms=1,d._$Qs=2,d._$i2=0,d._$No=2,d._$do=d._$Ms,d._$Ls=!0,d._$1r=5,d._$Qb=65,d._$J=1e-4,d._$FT=.001,d._$Ss=3,j._$o7=6,j._$S7=7,j._$s7=8,j._$77=9,j.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,j.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,j._$T7=j.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,j._$Is=-2004318072,j._$h0=0,j._$4L=23,j._$7P=33,j._$uT=function(e){console.log("_$bo :: _$6 _$mo _$E0 : %d\n",e)},j._$9o=function(e){if(e<40)return j._$uT(e),null;if(e<50)return j._$uT(e),null;if(e<60)return j._$uT(e),null;if(e<100)switch(e){case 65:return new B;case 66:return new $;case 67:return new T;case 68:return new _;case 69:return new eo;case 70:return new f;default:return j._$uT(e),null}else if(e<150)switch(e){case 131:return new ee;case 133:return new M;case 136:return new K;case 137:return new es;case 142:return new Q}return j._$uT(e),null},n._$HP=0,n._$_0=!0,n._$V2=-1,n._$W0=-1,n._$jr=!1,n._$ZS=!0,n._$tr=-1e6,n._$lr=1e6,n._$is=32,n._$e=!1,n.prototype.getDrawDataIndex=function(t){for(var e=this._$aS.length-1;e>=0;--e)if(null!=this._$aS[e]&&this._$aS[e].getDrawDataID()==t)return e;return-1},n.prototype.getDrawData=function(e){if(e instanceof I){if(null==this._$Bo){this._$Bo=new Object;for(var o=this._$aS.length,t=0,n,s;t<o;t++)n=this._$aS[t],s=n.getDrawDataID(),null!=s&&(this._$Bo[s]=n)}return this._$Bo[id]}return e<this._$aS.length?this._$aS[e]:null},n.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),null!=this._$Bo&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},n.prototype.init=function(){this._$co++,this._$F2.length>0&&this.release();for(var b=this._$Ri.getModelImpl(),g=b._$Xr(),_=g.length,s=new Array,h=new Array,e=0,o,d,u,O,m,f,y,j,v,c,i,p,a,w,n;e<_;++e){o=g[e],this._$F2.push(o),this._$Hr.push(o.init(this));for(var r=o.getBaseData(),l=r.length,t=0;t<l;++t)s.push(r[t]);for(t=0;t<l;++t)d=r[t].init(this),d._$l2(e),h.push(d);u=o.getDrawData(),O=u.length;for(t=0;t<O;++t)m=u[t],f=m.init(this),f._$IP=e,this._$aS.push(m),this._$8b.push(f)}for(y=s.length,j=E._$2o();;){v=!1;for(e=0;e<y;++e)c=s[e],null!=c&&(i=c.getTargetBaseDataID(),(null==i||i==j||this.getBaseDataIndex(i)>=0)&&(this._$3S.push(c),this._$db.push(h[e]),s[e]=null,v=!0));if(!v)break}if(p=b._$E2(),null!=p)if(a=p._$1s(),null!=a){w=a.length;for(e=0;e<w;++e)n=a[e],null!=n&&this._$02(n.getParamID(),n.getDefaultValue(),n.getMinValue(),n.getMaxValue())}this.clipManager=new P(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},n.prototype.update=function(){n._$e&&s.start("_$zL");for(j=this._$_2.length,e=0;e<j;e++)this._$_2[e]!=this._$vr[e]&&(this._$Js[e]=n._$ZS,this._$vr[e]=this._$_2[e]);var j,e,b=this._$3S.length,h=this._$aS.length,p=r._$or(),m=r._$Pr()-p+1,d,u,g,v,l,o,i,a,f,c;(null==this._$Ws||this._$Ws.length<m)&&(this._$Ws=new Int16Array(m),this._$Vs=new Int16Array(m));for(e=0;e<m;e++)this._$Ws[e]=n._$V2,this._$Vs[e]=n._$V2;(null==this._$Er||this._$Er.length<h)&&(this._$Er=new Int16Array(h));for(e=0;e<h;e++)this._$Er[e]=n._$W0;n._$e&&s.dump("_$zL"),n._$e&&s.start("_$UL");for(d=null,u=0;u<b;++u){g=this._$3S[u],v=this._$db[u];try{g._$Nr(this,v),g._$2b(this,v)}catch(e){null==d&&(d=e)}}null!=d&&n._$_0&&s._$Rb(d),n._$e&&s.dump("_$UL"),n._$e&&s.start("_$DL");for(l=null,o=0;o<h;++o){i=this._$aS[o],a=this._$8b[o];try{if(i._$Nr(this,a),a._$u2())continue;i._$2b(this,a),c=Math.floor(i._$zS(this,a)-p);try{f=this._$Vs[c]}catch(e){console.log("_$li :: %s / %s        @@_$fS\n",e.toString(),i.getDrawDataID().toString()),c=Math.floor(i._$zS(this,a)-p);continue}f==n._$V2?this._$Ws[c]=o:this._$Er[f]=o,this._$Vs[c]=o}catch(e){null==l&&(l=e,t._$sT(t._$H7))}}null!=l&&n._$_0&&s._$Rb(l),n._$e&&s.dump("_$DL"),n._$e&&s.start("_$eL");for(e=this._$Js.length-1;e>=0;e--)this._$Js[e]=n._$jr;return this._$QT=!1,n._$e&&s.dump("_$eL"),!1},n.prototype.preDraw=function(e){null!=this.clipManager&&(e._$ZT(),this.clipManager.setupClip(this,e))},n.prototype.draw=function(a){if(null!=this._$Ws){{r=this._$Ws.length,a._$ZT();for(o=0;o<r;++o)if(e=this._$Ws[o],e!=n._$V2)for(;;){var r,o,e,c=this._$aS[e],t=this._$8b[e],l,d,i;if(t._$yo()&&(l=t._$IP,d=this._$Hr[l],t._$VS=d.getPartsOpacity(),c.draw(a,this,t)),i=this._$Er[e],i<=e||i==n._$W0)break;e=i}}}else s._$li("call _$Ri.update() before _$Ri.draw() ")},n.prototype.getParamIndex=function(t){for(var e=this._$pb.length-1;e>=0;--e)if(this._$pb[e]==t)return e;return this._$02(t,0,n._$tr,n._$lr)},n.prototype._$BS=function(e){return this.getBaseDataIndex(e)},n.prototype.getBaseDataIndex=function(t){for(var e=this._$3S.length-1;e>=0;--e)if(null!=this._$3S[e]&&this._$3S[e].getBaseDataID()==t)return e;return-1},n.prototype._$UT=function(e,n){var t=new Float32Array(n);return l._$jT(e,0,t,0,e.length),t},n.prototype._$02=function(r,s,i,a){if(this._$qo>=this._$pb.length){var e=this._$pb.length,o=new Array(2*e),t;l._$jT(this._$pb,0,o,0,e),this._$pb=o,this._$_2=this._$UT(this._$_2,2*e),this._$vr=this._$UT(this._$vr,2*e),this._$Rr=this._$UT(this._$Rr,2*e),this._$Or=this._$UT(this._$Or,2*e),t=new Array,l._$jT(this._$Js,0,t,0,e),this._$Js=t}return this._$pb[this._$qo]=r,this._$_2[this._$qo]=s,this._$vr[this._$qo]=s,this._$Rr[this._$qo]=i,this._$Or[this._$qo]=a,this._$Js[this._$qo]=n._$ZS,this._$qo++},n.prototype._$Zo=function(e,t){this._$3S[e]=t},n.prototype.setParamFloat=function(e,t){t<this._$Rr[e]&&(t=this._$Rr[e]),t>this._$Or[e]&&(t=this._$Or[e]),this._$_2[e]=t},n.prototype.loadParam=function(){var e=this._$_2.length;e>this._$fs.length&&(e=this._$fs.length),l._$jT(this._$fs,0,this._$_2,0,e)},n.prototype.saveParam=function(){var e=this._$_2.length;e>this._$fs.length&&(this._$fs=new Float32Array(e)),l._$jT(this._$_2,0,this._$fs,0,e)},n.prototype._$v2=function(){return this._$co},n.prototype._$WS=function(){return this._$QT},n.prototype._$Xb=function(e){return this._$Js[e]==n._$ZS},n.prototype._$vs=function(){return this._$Es},n.prototype._$Tr=function(){return this._$ZP},n.prototype.getBaseData=function(e){return this._$3S[e]},n.prototype.getParamFloat=function(e){return this._$_2[e]},n.prototype.getParamMax=function(e){return this._$Or[e]},n.prototype.getParamMin=function(e){return this._$Rr[e]},n.prototype.setPartsOpacity=function(e,t){this._$Hr[e].setPartsOpacity(t)},n.prototype.getPartsOpacity=function(e){return this._$Hr[e].getPartsOpacity()},n.prototype.getPartsDataIndex=function(t){for(var e=this._$F2.length-1;e>=0;--e)if(null!=this._$F2[e]&&this._$F2[e]._$p2()==t)return e;return-1},n.prototype._$q2=function(e){return this._$db[e]},n.prototype._$C2=function(e){return this._$8b[e]},n.prototype._$Bb=function(e){return this._$Hr[e]},n.prototype._$5s=function(r,c){for(var a=this._$Ws.length,i=r,o=0,e,t,s;o<a;++o)if(e=this._$Ws[o],e!=n._$V2)for(;;){if(t=this._$8b[e],t._$yo()&&(t._$GT()._$B2(this,t,i),i+=c),s=this._$Er[e],s<=e||s==n._$W0)break;e=s}},n.prototype.setDrawParam=function(e){this.dp_webgl=e},n.prototype.getDrawParam=function(){return this.dp_webgl},er._$0T=function(e){return er._$0T(new _$5(e))},er._$0T=function(e){if(!e.exists())throw new _$ls(e._$3b());for(var n,s=e.length(),o=new Int8Array(s),i=new _$Xs(new _$kb(e),8192),t=0;(n=i.read(o,t,s-t))>0;)t+=n;return o},er._$C=function(t){var n=null,e=null,s,o;try{n=t instanceof Array?t:new _$Xs(t,8192),e=new _$js;for(o=new Int8Array(1e3);(s=n.read(o))>0;)e.write(o,0,s);return e._$TS()}finally{null!=t&&t.close(),null!=e&&(e.flush(),e.close())}},el.prototype._$T2=function(){return l.getUserTimeMSec()+Math._$10()*(2*this._$Br-1)},el.prototype._$uo=function(e){this._$Br=e},el.prototype._$QS=function(e,t,n){this._$Dr=e,this._$Cb=t,this._$mr=n},el.prototype._$7T=function(s){var e,t=l.getUserTimeMSec(),n=0;switch(this._$_L){case STATE_CLOSING:(n=(t-this._$bb)/this._$Dr)>=1&&(n=1,this._$_L=U.STATE_CLOSED,this._$bb=t),e=1-n;break;case STATE_CLOSED:(n=(t-this._$bb)/this._$Cb)>=1&&(this._$_L=U.STATE_OPENING,this._$bb=t),e=0;break;case STATE_OPENING:(n=(t-this._$bb)/this._$mr)>=1&&(n=1,this._$_L=U.STATE_INTERVAL,this._$12=this._$T2()),e=n;break;case STATE_INTERVAL:this._$12<t&&(this._$_L=U.STATE_CLOSING,this._$bb=t),e=1;break;case STATE_FIRST:default:this._$_L=U.STATE_INTERVAL,this._$12=this._$T2(),e=1}this._$jo||(e=-e),s.setParamFloat(this._$iL,e),s.setParamFloat(this._$0L,e)},U=function(){};function h(){i||(p.prototype.constructor.call(this),this._$sb=new Int32Array(h._$As),this._$U2=new Array,this.transform=null,this.gl=null,null==h._$NT&&(h._$NT=h._$9r(256),h._$vS=h._$9r(256),h._$no=h._$vb(256)))}function _(){i||(g.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}function e6(e){L.prototype.constructor.call(this,e),this._$8r=g._$ur,this._$Yr=null,this._$Wr=null}function r(){i||(u.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}function Q(){i||(this._$NL=null,this._$3S=null,this._$aS=null,Q._$42++)}function F(){i||(a.prototype.constructor.call(this),this._$zo=new h)}function x(){i||(N.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=x._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}function W(e,t){return String.fromCharCode(e.getUint8(t))}function J(){this._$P=new Float32Array(100),this.size=0}function c(){this._$4P=null,this._$I0=null,this._$RP=null}function B(){i||(g.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}function e5(e){L.prototype.constructor.call(this,e),this._$8r=g._$ur,this._$Cr=null,this._$hr=null}function M(){i||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,M._$42++)}function ec(e){this._$VS=null,this._$e0=null,this._$e0=e}function G(e){i||(this.id=e)}function es(){i||(this._$4S=null)}function y(e,t){this.canvas=e,this.context=t,this.viewport=new Array(0,0,e.width,e.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}function ee(){i||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}function L(e){i||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=e,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}function t(){}function e2(){}function q(e){i||(this._$ib=e)}function f(){i||(r.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=f._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=f._$42++)}function eu(e){ea.prototype.constructor.call(this,e),this._$8r=r._$ur,this._$Cr=null,this._$hr=null}function e1(){i||(this.x=null,this.y=null)}function O(e){i||(a.prototype.constructor.call(this),this.drawParamWebGL=new C(e),this.drawParamWebGL.setGL(t.getGL(e)))}function X(){i||(this.motions=null,this._$eb=!1,this.motions=new Array)}function et(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=et._$Gs++}function R(){this.m=new Array(1,0,0,0,1,0,0,0,1)}function E(e){i||G.prototype.constructor.call(this,e)}function C(e){i||(p.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=e,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}function en(e,t,n){return null==t&&(t=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.DYNAMIC_DRAW),t}function e8(e,t,n){return null==t&&(t=e.createBuffer()),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.DYNAMIC_DRAW),t}function S(e){i||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=e,this._$F=0)}U.STATE_FIRST="STATE_FIRST",U.STATE_INTERVAL="STATE_INTERVAL",U.STATE_CLOSING="STATE_CLOSING",U.STATE_CLOSED="STATE_CLOSED",U.STATE_OPENING="STATE_OPENING",h.prototype=new p,h._$As=32,h._$Gr=!1,h._$NT=null,h._$vS=null,h._$no=null,h._$9r=function(e){return new Float32Array(e)},h._$vb=function(e){return new Int16Array(e)},h._$cr=function(e,t){return null==e||e._$yL()<t.length?((e=h._$9r(2*t.length)).put(t),e._$oT(0)):(e.clear(),e.put(t),e._$oT(0)),e},h._$mb=function(e,t){return null==e||e._$yL()<t.length?((e=h._$vb(2*t.length)).put(t),e._$oT(0)):(e.clear(),e.put(t),e._$oT(0)),e},h._$Hs=function(){return h._$Gr},h._$as=function(e){h._$Gr=e},h.prototype.setGL=function(e){this.gl=e},h.prototype.setTransform=function(e){this.transform=e},h.prototype._$ZT=function(){},h.prototype._$Uo=function(n,d,o,i,a,e,l,s){if(!(e<.01)){var r=this._$U2[n],c=e>.9?t.EXPAND_W:0;this.gl.drawElements(r,o,i,a,e,c,this.transform,s)}},h.prototype._$Rs=function(){throw new Error("_$Rs")},h.prototype._$Ds=function(){throw new Error("_$Ds")},h.prototype._$K2=function(){for(var e=0;e<this._$sb.length;e++)0!=this._$sb[e]&&(this.gl._$Sr(1,this._$sb,e),this._$sb[e]=0)},h.prototype.setTexture=function(e,t){this._$sb.length<e+1&&this._$nS(e),this._$sb[e]=t},h.prototype.setTexture=function(e,t){this._$sb.length<e+1&&this._$nS(e),this._$U2[e]=t},h.prototype._$nS=function(n){var s=Math.max(2*this._$sb.length,n+1+10),e=new Int32Array(s),t;l._$jT(this._$sb,0,e,0,this._$sb.length),this._$sb=e,t=new Array,l._$jT(this._$U2,0,t,0,this._$U2.length),this._$U2=t},_.prototype=new g,_._$Xo=new Float32Array(2),_._$io=new Float32Array(2),_._$0o=new Float32Array(2),_._$Lo=new Float32Array(2),_._$To=new Float32Array(2),_._$Po=new Float32Array(2),_._$gT=new Array,_.prototype._$zP=function(){this._$GS=new $,this._$GS._$zP(),this._$Y0=new Array},_.prototype.getType=function(){return g._$c2},_.prototype._$F0=function(e){g.prototype._$F0.call(this,e),this._$GS=e._$nP(),this._$Y0=e._$nP(),g.prototype.readV2_opacity.call(this,e)},_.prototype.init=function(){var e=new e6(this);return e._$Yr=new eo,this._$32()&&(e._$Wr=new eo),e},_.prototype._$Nr=function(B,J){if(this!=J._$GT()&&console.log("### assert!! ### "),r=J,this._$GS._$Ur(B)){if(Q=_._$gT,Q[0]=!1,T=this._$GS._$Q2(B,Q),J._$Ib(Q[0]),this.interpolateOpacity(B,this._$GS,J,Q),s=B._$vs(),m=B._$Tr(),this._$GS._$zr(s,m,T),T<=0)c=this._$Y0[s[0]],r._$Yr.init(c);else if(1==T)c=this._$Y0[s[0]],f=this._$Y0[s[1]],e=m[0],r._$Yr._$fL=c._$fL+(f._$fL-c._$fL)*e,r._$Yr._$gL=c._$gL+(f._$gL-c._$gL)*e,r._$Yr._$B0=c._$B0+(f._$B0-c._$B0)*e,r._$Yr._$z0=c._$z0+(f._$z0-c._$z0)*e,r._$Yr._$qT=c._$qT+(f._$qT-c._$qT)*e;else if(2==T){c=this._$Y0[s[0]],f=this._$Y0[s[1]];var E=this._$Y0[s[2]],$=this._$Y0[s[3]],n=(e=m[0],m[1]),t=c._$fL+(f._$fL-c._$fL)*e,a=E._$fL+($._$fL-E._$fL)*e;r._$Yr._$fL=t+(a-t)*n,t=c._$gL+(f._$gL-c._$gL)*e,a=E._$gL+($._$gL-E._$gL)*e,r._$Yr._$gL=t+(a-t)*n,t=c._$B0+(f._$B0-c._$B0)*e,a=E._$B0+($._$B0-E._$B0)*e,r._$Yr._$B0=t+(a-t)*n,t=c._$z0+(f._$z0-c._$z0)*e,a=E._$z0+($._$z0-E._$z0)*e,r._$Yr._$z0=t+(a-t)*n,t=c._$qT+(f._$qT-c._$qT)*e,a=E._$qT+($._$qT-E._$qT)*e,r._$Yr._$qT=t+(a-t)*n}else if(3==T){var x=this._$Y0[s[0]],q=this._$Y0[s[1]],v=this._$Y0[s[2]],R=this._$Y0[s[3]],j=this._$Y0[s[4]],N=this._$Y0[s[5]],w=this._$Y0[s[6]],W=this._$Y0[s[7]],o=(e=m[0],n=m[1],m[2]),i=(t=x._$fL+(q._$fL-x._$fL)*e,a=v._$fL+(R._$fL-v._$fL)*e,j._$fL+(N._$fL-j._$fL)*e),l=w._$fL+(W._$fL-w._$fL)*e;r._$Yr._$fL=(1-o)*(t+(a-t)*n)+o*(i+(l-i)*n),t=x._$gL+(q._$gL-x._$gL)*e,a=v._$gL+(R._$gL-v._$gL)*e,i=j._$gL+(N._$gL-j._$gL)*e,l=w._$gL+(W._$gL-w._$gL)*e,r._$Yr._$gL=(1-o)*(t+(a-t)*n)+o*(i+(l-i)*n),t=x._$B0+(q._$B0-x._$B0)*e,a=v._$B0+(R._$B0-v._$B0)*e,i=j._$B0+(N._$B0-j._$B0)*e,l=w._$B0+(W._$B0-w._$B0)*e,r._$Yr._$B0=(1-o)*(t+(a-t)*n)+o*(i+(l-i)*n),t=x._$z0+(q._$z0-x._$z0)*e,a=v._$z0+(R._$z0-v._$z0)*e,i=j._$z0+(N._$z0-j._$z0)*e,l=w._$z0+(W._$z0-w._$z0)*e,r._$Yr._$z0=(1-o)*(t+(a-t)*n)+o*(i+(l-i)*n),t=x._$qT+(q._$qT-x._$qT)*e,a=v._$qT+(R._$qT-v._$qT)*e,i=j._$qT+(N._$qT-j._$qT)*e,l=w._$qT+(W._$qT-w._$qT)*e,r._$Yr._$qT=(1-o)*(t+(a-t)*n)+o*(i+(l-i)*n)}else if(4==T){var r,Q,T,s,m,c,f,e,k=this._$Y0[s[0]],K=this._$Y0[s[1]],A=this._$Y0[s[2]],Y=this._$Y0[s[3]],S=this._$Y0[s[4]],U=this._$Y0[s[5]],O=this._$Y0[s[6]],H=this._$Y0[s[7]],y=this._$Y0[s[8]],L=this._$Y0[s[9]],b=this._$Y0[s[10]],P=this._$Y0[s[11]],g=this._$Y0[s[12]],I=this._$Y0[s[13]],p=this._$Y0[s[14]],V=this._$Y0[s[15]],C=(e=m[0],n=m[1],o=m[2],m[3]),u=(t=k._$fL+(K._$fL-k._$fL)*e,a=A._$fL+(Y._$fL-A._$fL)*e,i=S._$fL+(U._$fL-S._$fL)*e,l=O._$fL+(H._$fL-O._$fL)*e,y._$fL+(L._$fL-y._$fL)*e),F=b._$fL+(P._$fL-b._$fL)*e,h=g._$fL+(I._$fL-g._$fL)*e,M=p._$fL+(V._$fL-p._$fL)*e,z,d;r._$Yr._$fL=(1-C)*((1-o)*(t+(a-t)*n)+o*(i+(l-i)*n))+C*((1-o)*(u+(F-u)*n)+o*(h+(M-h)*n)),t=k._$gL+(K._$gL-k._$gL)*e,a=A._$gL+(Y._$gL-A._$gL)*e,i=S._$gL+(U._$gL-S._$gL)*e,l=O._$gL+(H._$gL-O._$gL)*e,u=y._$gL+(L._$gL-y._$gL)*e,F=b._$gL+(P._$gL-b._$gL)*e,h=g._$gL+(I._$gL-g._$gL)*e,M=p._$gL+(V._$gL-p._$gL)*e,r._$Yr._$gL=(1-C)*((1-o)*(t+(a-t)*n)+o*(i+(l-i)*n))+C*((1-o)*(u+(F-u)*n)+o*(h+(M-h)*n)),t=k._$B0+(K._$B0-k._$B0)*e,a=A._$B0+(Y._$B0-A._$B0)*e,i=S._$B0+(U._$B0-S._$B0)*e,l=O._$B0+(H._$B0-O._$B0)*e,u=y._$B0+(L._$B0-y._$B0)*e,F=b._$B0+(P._$B0-b._$B0)*e,h=g._$B0+(I._$B0-g._$B0)*e,M=p._$B0+(V._$B0-p._$B0)*e,r._$Yr._$B0=(1-C)*((1-o)*(t+(a-t)*n)+o*(i+(l-i)*n))+C*((1-o)*(u+(F-u)*n)+o*(h+(M-h)*n)),t=k._$z0+(K._$z0-k._$z0)*e,a=A._$z0+(Y._$z0-A._$z0)*e,i=S._$z0+(U._$z0-S._$z0)*e,l=O._$z0+(H._$z0-O._$z0)*e,u=y._$z0+(L._$z0-y._$z0)*e,F=b._$z0+(P._$z0-b._$z0)*e,h=g._$z0+(I._$z0-g._$z0)*e,M=p._$z0+(V._$z0-p._$z0)*e,r._$Yr._$z0=(1-C)*((1-o)*(t+(a-t)*n)+o*(i+(l-i)*n))+C*((1-o)*(u+(F-u)*n)+o*(h+(M-h)*n)),t=k._$qT+(K._$qT-k._$qT)*e,a=A._$qT+(Y._$qT-A._$qT)*e,i=S._$qT+(U._$qT-S._$qT)*e,l=O._$qT+(H._$qT-O._$qT)*e,u=y._$qT+(L._$qT-y._$qT)*e,F=b._$qT+(P._$qT-b._$qT)*e,h=g._$qT+(I._$qT-g._$qT)*e,M=p._$qT+(V._$qT-p._$qT)*e,r._$Yr._$qT=(1-C)*((1-o)*(t+(a-t)*n)+o*(i+(l-i)*n))+C*((1-o)*(u+(F-u)*n)+o*(h+(M-h)*n))}else{for(var G=0|Math.pow(2,T),D=new Float32Array(G),X=0;X<G;X++){for(var ee=X,et=1,Z=0;Z<T;Z++)et*=ee%2==0?1-m[Z]:m[Z],ee/=2;D[X]=et}for(z=new Array,d=0;d<G;d++)z[d]=this._$Y0[s[d]];var en=0,es=0,eo=0,ei=0,ea=0;for(d=0;d<G;d++)en+=D[d]*z[d]._$fL,es+=D[d]*z[d]._$gL,eo+=D[d]*z[d]._$B0,ei+=D[d]*z[d]._$z0,ea+=D[d]*z[d]._$qT;r._$Yr._$fL=en,r._$Yr._$gL=es,r._$Yr._$B0=eo,r._$Yr._$z0=ei,r._$Yr._$qT=ea}c=this._$Y0[s[0]],r._$Yr.reflectX=c.reflectX,r._$Yr.reflectY=c.reflectY}},_.prototype._$2b=function(a,l){if(this!=l._$GT()&&console.log("### assert!! ### "),e=l,e._$hS(!0),this._$32())if(c=this.getTargetBaseDataID(),e._$8r==g._$ur&&(e._$8r=a.getBaseDataIndex(c)),e._$8r<0)t._$so&&s._$li("_$L _$0P _$G :: %s",c),e._$hS(!1);else if(r=a.getBaseData(e._$8r),null!=r){var e,c,r,i=a._$q2(e._$8r),n=_._$Xo,o,d,u,h,m;n[0]=e._$Yr._$fL,n[1]=e._$Yr._$gL,o=_._$io,o[0]=0,o[1]=-.1,i._$GT().getType()==g._$c2?o[1]=-10:o[1]=-.1,d=_._$0o,this._$Jr(a,r,i,n,o,d),u=k._$92(o,d),r._$nb(a,i,n,n,1,0,2),e._$Wr._$fL=n[0],e._$Wr._$gL=n[1],e._$Wr._$B0=e._$Yr._$B0,e._$Wr._$z0=e._$Yr._$z0,e._$Wr._$qT=e._$Yr._$qT-u*k._$NS,h=i.getTotalScale(),e.setTotalScale_notForClient(h*e._$Wr._$B0),m=i.getTotalOpacity(),e.setTotalOpacity(m*e.getInterpolatedOpacity()),e._$Wr.reflectX=e._$Yr.reflectX,e._$Wr.reflectY=e._$Yr.reflectY,e._$hS(i._$yo())}else e._$hS(!1);else e.setTotalScale_notForClient(e._$Yr._$B0),e.setTotalOpacity(e.getInterpolatedOpacity())},_.prototype._$nb=function(O,d,l,c,p,f,h){this!=d._$GT()&&console.log("### assert!! ### ");for(var o,i,n=d,t=null!=n._$Wr?n._$Wr:n._$Yr,u=Math.sin(k._$bS*t._$qT),m=Math.cos(k._$bS*t._$qT),s=n.getTotalScale(),r=t.reflectX?-1:1,a=t.reflectY?-1:1,g=m*s*r,v=-u*s*a,b=u*s*r,j=m*s*a,y=t._$fL,_=t._$gL,w=p*h,e=f;e<w;e+=h)o=l[e],i=l[e+1],c[e]=g*o+v*i+y,c[e+1]=b*o+j*i+_},_.prototype._$Jr=function(d,c,l,o,a,r){c!=l._$GT()&&console.log("### assert!! ### "),n=_._$Lo,_._$Lo[0]=o[0],_._$Lo[1]=o[1],c._$nb(d,l,n,n,1,0,2);for(var n,e=_._$To,s=_._$Po,i=1,u=0;u<10;u++){if(s[0]=o[0]+i*a[0],s[1]=o[1]+i*a[1],c._$nb(d,l,s,e,1,0,2),e[0]-=n[0],e[1]-=n[1],0!=e[0]||0!=e[1])return r[0]=e[0],void(r[1]=e[1]);if(s[0]=o[0]-i*a[0],s[1]=o[1]-i*a[1],c._$nb(d,l,s,e,1,0,2),e[0]-=n[0],e[1]-=n[1],0!=e[0]||0!=e[1])return e[0]=-e[0],e[0]=-e[0],r[0]=e[0],void(r[1]=e[1]);i*=.1}t._$so&&console.log("_$L0 to transform _$SP\n")},e6.prototype=new L,r.prototype=new u,r._$ur=-2,r._$ES=500,r._$wb=2,r._$8S=3,r._$os=4,r._$52=r._$ES,r._$R2=r._$ES,r._$Sb=function(n){for(var t=n.length-1,e;t>=0;--t)e=n[t],e<r._$52?r._$52=e:e>r._$R2&&(r._$R2=e)},r._$or=function(){return r._$52},r._$Pr=function(){return r._$R2},r.prototype._$F0=function(e){this._$gP=e._$nP(),this._$dr=e._$nP(),this._$GS=e._$nP(),this._$qb=e._$6L(),this._$Lb=e._$cS(),this._$mS=e._$Tb(),e.getFormatVersion()>=j._$T7?(this.clipID=e._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,r._$Sb(this._$Lb)},r.prototype.getClipIDList=function(){return this.clipIDList},r.prototype._$Nr=function(n,e){if(e._$IS[0]=!1,e._$Us=Y._$Z2(n,this._$GS,e._$IS,this._$Lb),t._$Zs);else if(e._$IS[0])return;e._$7s=Y._$br(n,this._$GS,e._$IS,this._$mS)},r.prototype._$2b=function(){},r.prototype.getDrawDataID=function(){return this._$gP},r.prototype._$j2=function(e){this._$gP=e},r.prototype.getOpacity=function(t,e){return e._$7s},r.prototype._$zS=function(t,e){return e._$Us},r.prototype.getTargetBaseDataID=function(){return this._$dr},r.prototype._$gs=function(e){this._$dr=e},r.prototype._$32=function(){return null!=this._$dr&&this._$dr!=E._$2o()},r.prototype.getType=function(){},Q._$42=0,Q.prototype._$1b=function(){return this._$3S},Q.prototype.getDrawDataList=function(){return this._$aS},Q.prototype._$F0=function(e){this._$NL=e._$nP(),this._$aS=e._$nP(),this._$3S=e._$nP()},Q.prototype._$kr=function(e){e._$Zo(this._$3S),e._$xo(this._$aS),this._$3S=null,this._$aS=null},F.prototype=new a,F.loadModel=function(t){var e=new F;return a._$62(e,t),e},F.loadModel=function(t){var e=new F;return a._$62(e,t),e},F._$to=function(){return new F},F._$er=function(i){if(t=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d"),0==t.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+t._$PL());for(var t,s=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],o=F.loadModel(t._$3b()),e=0,n;e<s.length;e++){if(n=new _$5(s[e]),0==n.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+n._$PL());o.setTexture(e,_$nL._$_o(i,n._$3b()))}return o},F.prototype.setGL=function(e){this._$zo.setGL(e)},F.prototype.setTransform=function(e){this._$zo.setTransform(e)},F.prototype.draw=function(){this._$5S.draw(this._$zo)},F.prototype._$K2=function(){this._$zo._$K2()},F.prototype.setTexture=function(e,t){null==this._$zo&&s._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(e,t)},F.prototype.setTexture=function(e,t){null==this._$zo&&s._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(e,t)},F.prototype._$Rs=function(){return this._$zo._$Rs()},F.prototype._$Ds=function(e){this._$zo._$Ds(e)},F.prototype.getDrawParam=function(){return this._$zo},x.prototype=new N,x._$cs="VISIBLE:",x._$ar="LAYOUT:",x.MTN_PREFIX_FADEIN="FADEIN:",x.MTN_PREFIX_FADEOUT="FADEOUT:",x._$Co=0,x._$1T=1,x.loadMotion=function(e){var t=er._$C(e);return x.loadMotion(t)},x.loadMotion=function(t){t instanceof ArrayBuffer&&(t=new DataView(t));var r=new x,l=[0],a=t.byteLength,e,n,u,o,h,m,f,s,i,p,d;r._$yT=0;for(e=0;e<a;++e)if(n=W(t,e),u=n.charCodeAt(0),"\n"!=n&&"\r"!=n)if("#"!=n)if("$"!=n){if(97<=u&&u<=122||65<=u&&u<=90||"_"==n){for(s=e,i=-1;e<a&&"\r"!=(n=W(t,e))&&"\n"!=n;++e)if("="==n){i=e;break}if(i>=0){o=new c,b.startsWith(t,s,x._$cs)?(o._$RP=c._$hs,o._$4P=b.createString(t,s,i-s)):b.startsWith(t,s,x._$ar)?(o._$4P=b.createString(t,s+7,i-s-7),b.startsWith(t,s+7,"ANCHOR_X")?o._$RP=c._$xs:b.startsWith(t,s+7,"ANCHOR_Y")?o._$RP=c._$us:b.startsWith(t,s+7,"SCALE_X")?o._$RP=c._$qs:b.startsWith(t,s+7,"SCALE_Y")?o._$RP=c._$Ys:b.startsWith(t,s+7,"X")?o._$RP=c._$ws:b.startsWith(t,s+7,"Y")&&(o._$RP=c._$Ns)):(o._$RP=c._$Fr,o._$4P=b.createString(t,s,i-s)),r.motions.push(o),h=0,m=[];for(e=i+1;e<a&&"\r"!=(n=W(t,e))&&"\n"!=n;++e)if(","!=n&&" "!=n&&"	"!=n)if(d=b._$LS(t,a,e,l),l[0]>0){if(m.push(d),h++,f=l[0],f<e){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}e=f-1}o._$I0=new Float32Array(m),h>r._$yT&&(r._$yT=h)}}}else{for(s=e,i=-1;e<a&&"\r"!=(n=W(t,e))&&"\n"!=n;++e)if("="==n){i=e;break}if(p=!1,i>=0)for(i==s+4&&"f"==W(t,s+1)&&"p"==W(t,s+2)&&"s"==W(t,s+3)&&(p=!0),e=i+1;e<a&&"\r"!=(n=W(t,e))&&"\n"!=n;++e)","!=n&&" "!=n&&"	"!=n&&(d=b._$LS(t,a,e,l),l[0]>0&&p&&5<d&&d<121&&(r._$D0=d),e=l[0]);for(;e<a&&"\n"!=W(t,e)&&"\r"!=W(t,e);++e);}else for(;e<a&&"\n"!=W(t,e)&&"\r"!=W(t,e);++e);return r._$rr=1e3*r._$yT/r._$D0|0,r},x.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},x.prototype.getLoopDurationMSec=function(){return this._$rr},x.prototype.dump=function(){for(var n=0,e,t;n<this.motions.length;n++){e=this.motions[n],console.log("_$wL[%s] [%d]. ",e._$4P,e._$I0.length);for(t=0;t<e._$I0.length&&t<10;t++)console.log("%5.2f ,",e._$I0[t]);console.log("\n")}},x.prototype.updateParamExe=function(a,d,g,i){for(var f=(d-i._$z2)*this._$D0/1e3,t=0|f,v=f-t,r=0;r<this.motions.length;r++){var e=this.motions[r],s=e._$I0.length,l=e._$4P;if(e._$RP==c._$hs)b=e._$I0[t>=s?s-1:t],a.setParamFloat(l,b);else if(c._$ws<=e._$RP&&e._$RP<=c._$Ys);else{var b,u=a.getParamIndex(l),h=a.getModelContext(),m=.4*(h.getParamMax(u)-h.getParamMin(u)),p=h.getParamFloat(u),n=e._$I0[t>=s?s-1:t],o=e._$I0[t+1>=s?s-1:t+1],j=p+((n<o&&o-n>m||n>o&&n-o>m?n:n+(o-n)*v)-p)*g;a.setParamFloat(l,j)}}t>=this._$yT&&(this._$E?(i._$z2=d,this.loopFadeIn&&(i._$bs=d)):i._$9L=!0),this._$eP=g},x.prototype._$r0=function(){return this._$E},x.prototype._$aL=function(e){this._$E=e},x.prototype._$S0=function(){return this._$D0},x.prototype._$U0=function(e){this._$D0=e},x.prototype.isLoopFadeIn=function(){return this.loopFadeIn},x.prototype.setLoopFadeIn=function(e){this.loopFadeIn=e},J.prototype.clear=function(){this.size=0},J.prototype.add=function(t){if(this._$P.length<=this.size){var e=new Float32Array(2*this.size);l._$jT(this._$P,0,e,0,this.size),this._$P=e}this._$P[this.size++]=t},J.prototype._$BL=function(){var e=new Float32Array(this.size);return l._$jT(this._$P,0,e,0,this.size),e},c._$Fr=0,c._$hs=1,c._$ws=100,c._$Ns=101,c._$xs=102,c._$us=103,c._$qs=104,c._$Ys=105,B.prototype=new g,B._$gT=new Array,B.prototype._$zP=function(){this._$GS=new $,this._$GS._$zP()},B.prototype._$F0=function(e){g.prototype._$F0.call(this,e),this._$A=e._$6L(),this._$o=e._$6L(),this._$GS=e._$nP(),this._$Eo=e._$nP(),g.prototype.readV2_opacity.call(this,e)},B.prototype.init=function(){var e=new e5(this),t=(this._$o+1)*(this._$A+1);return null!=e._$Cr&&(e._$Cr=null),e._$Cr=new Float32Array(2*t),null!=e._$hr&&(e._$hr=null),this._$32()?e._$hr=new Float32Array(2*t):e._$hr=null,e},B.prototype._$Nr=function(t,n){if(s=n,this._$GS._$Ur(t)){var s,o=this._$VT(),e=B._$gT;e[0]=!1,Y._$Vr(t,this._$GS,e,o,this._$Eo,s._$Cr,0,2),n._$Ib(e[0]),this.interpolateOpacity(t,this._$GS,n,e)}},B.prototype._$2b=function(n,r){if(e=r,e._$hS(!0),this._$32())if(i=this.getTargetBaseDataID(),e._$8r==g._$ur&&(e._$8r=n.getBaseDataIndex(i)),e._$8r<0)t._$so&&s._$li("_$L _$0P _$G :: %s",i),e._$hS(!1);else{var e,i,a=n.getBaseData(e._$8r),o=n._$q2(e._$8r),c,l;null!=a&&o._$yo()?(c=o.getTotalScale(),e.setTotalScale_notForClient(c),l=o.getTotalOpacity(),e.setTotalOpacity(l*e.getInterpolatedOpacity()),a._$nb(n,o,e._$Cr,e._$hr,this._$VT(),0,2),e._$hS(!0)):e._$hS(!1)}else e.setTotalOpacity(e.getInterpolatedOpacity())},B.prototype._$nb=function(c,a,n,s,o,i,t){var e=a,r=null!=e._$hr?e._$hr:e._$Cr;B.transformPoints_sdk2(n,s,o,i,t,r,this._$o,this._$A)},B.transformPoints_sdk2=function(N,i,V,$,P,e,a,u){for(var E,M,A,W=V*P,v=0,m=0,y=0,j=0,_=0,b=0,L=!1,s=$,S,k,C,x,o,w,T,z,O;s<W;s+=P)if(C=N[s],k=(x=N[s+1])*u,(S=C*a)<0||k<0||a<=S||u<=k){if(o=a+1,!L){L=!0,v=.25*(e[2*(0+0*o)]+e[2*(a+0*o)]+e[2*(0+u*o)]+e[2*(a+u*o)]),m=.25*(e[2*(0+0*o)+1]+e[2*(a+0*o)+1]+e[2*(0+u*o)+1]+e[2*(a+u*o)+1]);var R=e[2*(a+u*o)]-e[2*(0+0*o)],B=e[2*(a+u*o)+1]-e[2*(0+0*o)+1],I=e[2*(a+0*o)]-e[2*(0+u*o)],H=e[2*(a+0*o)+1]-e[2*(0+u*o)+1];v-=.5*((y=.5*(R+I))+(_=.5*(R-I))),m-=.5*((j=.5*(B+H))+(b=.5*(B-H)))}if(-2<C&&C<3&&-2<x&&x<3)if(C<=0)if(x<=0){var d=e[2*(0+0*o)],c=e[2*(0+0*o)+1],f=v-2*y,h=m-2*j,g=v-2*_,p=m-2*b,r=v-2*y-2*_,l=m-2*j-2*b;(t=.5*(C- -2))+(n=.5*(x- -2))<=1?(i[s]=r+(g-r)*t+(f-r)*n,i[s+1]=l+(p-l)*t+(h-l)*n):(i[s]=d+(f-d)*(1-t)+(g-d)*(1-n),i[s+1]=c+(h-c)*(1-t)+(p-c)*(1-n))}else if(x>=1)g=e[2*(0+u*o)],p=e[2*(0+u*o)+1],r=v-2*y+1*_,l=m-2*j+1*b,d=v+3*_,c=m+3*b,f=v-2*y+3*_,h=m-2*j+3*b,(t=.5*(C- -2))+(n=.5*(x-1))<=1?(i[s]=r+(g-r)*t+(f-r)*n,i[s+1]=l+(p-l)*t+(h-l)*n):(i[s]=d+(f-d)*(1-t)+(g-d)*(1-n),i[s+1]=c+(h-c)*(1-t)+(p-c)*(1-n));else{(w=0|k)==u&&(w=u-1);var t=.5*(C- -2),n=k-w,D=w/u,F=(w+1)/u;g=e[2*(0+w*o)],p=e[2*(0+w*o)+1],d=e[2*(0+(w+1)*o)],c=e[2*(0+(w+1)*o)+1],r=v-2*y+D*_,l=m-2*j+D*b,f=v-2*y+F*_,h=m-2*j+F*b,t+n<=1?(i[s]=r+(g-r)*t+(f-r)*n,i[s+1]=l+(p-l)*t+(h-l)*n):(i[s]=d+(f-d)*(1-t)+(g-d)*(1-n),i[s+1]=c+(h-c)*(1-t)+(p-c)*(1-n))}else 1<=C?x<=0?(f=e[2*(a+0*o)],h=e[2*(a+0*o)+1],d=v+3*y,c=m+3*j,r=v+1*y-2*_,l=m+1*j-2*b,g=v+3*y-2*_,p=m+3*j-2*b,(t=.5*(C-1))+(n=.5*(x- -2))<=1?(i[s]=r+(g-r)*t+(f-r)*n,i[s+1]=l+(p-l)*t+(h-l)*n):(i[s]=d+(f-d)*(1-t)+(g-d)*(1-n),i[s+1]=c+(h-c)*(1-t)+(p-c)*(1-n))):x>=1?(r=e[2*(a+u*o)],l=e[2*(a+u*o)+1],g=v+3*y+1*_,p=m+3*j+1*b,f=v+1*y+3*_,h=m+1*j+3*b,d=v+3*y+3*_,c=m+3*j+3*b,(t=.5*(C-1))+(n=.5*(x-1))<=1?(i[s]=r+(g-r)*t+(f-r)*n,i[s+1]=l+(p-l)*t+(h-l)*n):(i[s]=d+(f-d)*(1-t)+(g-d)*(1-n),i[s+1]=c+(h-c)*(1-t)+(p-c)*(1-n))):((w=0|k)==u&&(w=u-1),t=.5*(C-1),n=k-w,D=w/u,F=(w+1)/u,r=e[2*(a+w*o)],l=e[2*(a+w*o)+1],f=e[2*(a+(w+1)*o)],h=e[2*(a+(w+1)*o)+1],g=v+3*y+D*_,p=m+3*j+D*b,d=v+3*y+F*_,c=m+3*j+F*b,t+n<=1?(i[s]=r+(g-r)*t+(f-r)*n,i[s+1]=l+(p-l)*t+(h-l)*n):(i[s]=d+(f-d)*(1-t)+(g-d)*(1-n),i[s+1]=c+(h-c)*(1-t)+(p-c)*(1-n))):x<=0?((O=0|S)==a&&(O=a-1),t=S-O,n=.5*(x- -2),T=O/a,z=(O+1)/a,f=e[2*(O+0*o)],h=e[2*(O+0*o)+1],d=e[2*(O+1+0*o)],c=e[2*(O+1+0*o)+1],r=v+T*y-2*_,l=m+T*j-2*b,g=v+z*y-2*_,p=m+z*j-2*b,t+n<=1?(i[s]=r+(g-r)*t+(f-r)*n,i[s+1]=l+(p-l)*t+(h-l)*n):(i[s]=d+(f-d)*(1-t)+(g-d)*(1-n),i[s+1]=c+(h-c)*(1-t)+(p-c)*(1-n))):x>=1?((O=0|S)==a&&(O=a-1),t=S-O,n=.5*(x-1),T=O/a,z=(O+1)/a,r=e[2*(O+u*o)],l=e[2*(O+u*o)+1],g=e[2*(O+1+u*o)],p=e[2*(O+1+u*o)+1],f=v+T*y+3*_,h=m+T*j+3*b,d=v+z*y+3*_,c=m+z*j+3*b,t+n<=1?(i[s]=r+(g-r)*t+(f-r)*n,i[s+1]=l+(p-l)*t+(h-l)*n):(i[s]=d+(f-d)*(1-t)+(g-d)*(1-n),i[s+1]=c+(h-c)*(1-t)+(p-c)*(1-n))):e7.err.printf("_$li calc : %.4f , %.4f          @@BDBoxGrid\n",C,x);else i[s]=v+C*y+x*_,i[s+1]=m+C*j+x*b}else E=2*((0|S)+(0|k)*(a+1)),(M=S-(0|S))+(A=k-(0|k))<1?(i[s]=e[E]*(1-M-A)+e[E+2]*M+e[E+2*(a+1)]*A,i[s+1]=e[E+1]*(1-M-A)+e[E+3]*M+e[E+2*(a+1)+1]*A):(i[s]=e[E+2*(a+1)+2]*(M-1+A)+e[E+2*(a+1)]*(1-M)+e[E+2]*(1-A),i[s+1]=e[E+2*(a+1)+3]*(M-1+A)+e[E+2*(a+1)+1]*(1-M)+e[E+3]*(1-A))},B.prototype.transformPoints_sdk1=function(y,j,m,h,v,g,p){for(var c,a,d,l,e,i,o,f=j,s=this._$o,u=this._$A,b=v*p,n=null!=f._$hr?f._$hr:f._$Cr,r=g;r<b;r+=p)t._$ts?(c=m[r],a=m[r+1],c<0?c=0:c>1&&(c=1),a<0?a=0:a>1&&(a=1),l=0|(a*=u),(d=0|(c*=s))>s-1&&(d=s-1),l>u-1&&(l=u-1),i=c-d,o=a-l,e=2*(d+l*(s+1))):(i=(c=m[r]*s)-(0|c),o=(a=m[r+1]*u)-(0|a),e=2*((0|c)+(0|a)*(s+1))),i+o<1?(h[r]=n[e]*(1-i-o)+n[e+2]*i+n[e+2*(s+1)]*o,h[r+1]=n[e+1]*(1-i-o)+n[e+3]*i+n[e+2*(s+1)+1]*o):(h[r]=n[e+2*(s+1)+2]*(i-1+o)+n[e+2*(s+1)]*(1-i)+n[e+2]*(1-o),h[r+1]=n[e+2*(s+1)+3]*(i-1+o)+n[e+2*(s+1)+1]*(1-i)+n[e+3]*(1-o))},B.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},B.prototype.getType=function(){return g._$_b},e5.prototype=new L,M._$42=0,M.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},M.prototype._$F0=function(e){this._$g0=e._$8L(),this.visible=e._$8L(),this._$NL=e._$nP(),this._$3S=e._$nP(),this._$aS=e._$nP()},M.prototype.init=function(){var e=new ec(this);return e.setPartsOpacity(this.isVisible()?1:0),e},M.prototype._$6o=function(e){if(null==this._$3S)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(e)},M.prototype._$3o=function(e){if(null==this._$aS)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(e)},M.prototype._$Zo=function(e){this._$3S=e},M.prototype._$xo=function(e){this._$aS=e},M.prototype.isVisible=function(){return this.visible},M.prototype._$uL=function(){return this._$g0},M.prototype._$KP=function(e){this.visible=e},M.prototype._$ET=function(e){this._$g0=e},M.prototype.getBaseData=function(){return this._$3S},M.prototype.getDrawData=function(){return this._$aS},M.prototype._$p2=function(){return this._$NL},M.prototype._$ob=function(e){this._$NL=e},M.prototype.getPartsID=function(){return this._$NL},M.prototype._$MP=function(e){this._$NL=e},ec.prototype=new function(){},ec.prototype.getPartsOpacity=function(){return this._$VS},ec.prototype.setPartsOpacity=function(e){this._$VS=e},G._$L7=function(){z._$27(),E._$27(),I._$27(),D._$27()},G.prototype.toString=function(){return this.id},es.prototype._$1s=function(){return this._$4S},es.prototype._$zP=function(){this._$4S=new Array},es.prototype._$F0=function(e){this._$4S=e._$nP()},es.prototype._$Ks=function(e){this._$4S.push(e)},y.tr=new R,y._$50=new R,y._$Ti=new Array(0,0),y._$Pi=new Array(0,0),y._$B=new Array(0,0),y.prototype._$lP=function(e,t,n,s){this.viewport=new Array(e,t,n,s)},y.prototype._$bL=function(){this.context.save();var e=this.viewport;null!=e&&(this.context.beginPath(),this.context._$Li(e[0],e[1],e[2],e[3]),this.context.clip())},y.prototype._$ei=function(){this.context.restore()},y.prototype.drawElements=function(D,L,p,f,I,C,N,et){try{I!=this._$Qo&&(this._$Qo=I,this.context.globalAlpha=I);for(var ee=L.length,T=D.width,m=D.height,b=this.context,B=this._$xP,V=this._$uP,U=this._$6r,W=this._$3r,e=y.tr,E=y._$Ti,H=y._$Pi,r=y._$B,d=0;d<ee;d+=3){b.save();var R=L[d],A=L[d+1],k=L[d+2],o=B+U*p[2*R],a=V+W*p[2*R+1],h=B+U*p[2*A],u=V+W*p[2*A+1],x=B+U*p[2*k],w=V+W*p[2*k+1];N&&(N._$PS(o,a,r),o=r[0],a=r[1],N._$PS(h,u,r),h=r[0],u=r[1],N._$PS(x,w,r),x=r[0],w=r[1]);var i=T*f[2*R],n=m-m*f[2*R+1],l=T*f[2*A],c=m-m*f[2*A+1],j=T*f[2*k],_=m-m*f[2*k+1],eo=Math.atan2(c-n,l-i),en=Math.atan2(u-a,h-o),Z=h-o,Q=u-a,$=Math.sqrt(Z*Z+Q*Q),G=l-i,Y=c-n,J=$/Math.sqrt(G*G+Y*Y),O,q,P;ef._$ni(j,_,i,n,l-i,c-n,-(c-n),l-i,E),ef._$ni(x,w,o,a,h-o,u-a,-(u-a),h-o,H);var es=(H[0]-E[0])/E[1],g=Math.min(i,l,j),S=Math.max(i,l,j),v=Math.min(n,c,_),M=Math.max(n,c,_),F=Math.floor(g),z=Math.floor(v),K=Math.ceil(S),X=Math.ceil(M);e.identity(),e.translate(o,a),e.rotate(en),e.scale(1,H[1]/E[1]),e.shear(es,0),e.scale(J,J),e.rotate(-eo),e.translate(-i,-n),e.setContext(b),(C||(C=1.2),t.IGNORE_EXPAND&&(C=0),t.USE_CACHED_POLYGON_IMAGE)?(O=et._$e0,(O.gl_cacheImage=O.gl_cacheImage||{},!O.gl_cacheImage[d])&&(q=y.createCanvas(K-F,X-z),t.DEBUG_DATA.LDGL_CANVAS_MB=t.DEBUG_DATA.LDGL_CANVAS_MB||0,t.DEBUG_DATA.LDGL_CANVAS_MB+=(K-F)*(X-z)*4,P=q.getContext("2d"),P.translate(-F,-z),y.clip(P,e,C,$,i,n,l,c,j,_,o,a,h,u,x,w),P.drawImage(D,0,0),O.gl_cacheImage[d]={cacheCanvas:q,cacheContext:P}),b.drawImage(O.gl_cacheImage[d].cacheCanvas,F,z)):(t.IGNORE_CLIP||y.clip(b,e,C,$,i,n,l,c,j,_,o,a,h,u,x,w),t.USE_ADJUST_TRANSLATION&&(g=0,S=T,v=0,M=m),b.drawImage(D,g,v,S-g,M-v,g,v,S-g,M-v)),b.restore()}}catch(e){s._$Rb(e)}},y.clip=function(t,c,e,s,o,i,a,r,n,l,d,u,h,m,f,p){e>.02?y.expandClip(t,c,e,s,d,u,h,m,f,p):y.clipWithTransform(t,null,o,i,a,r,n,l)},y.expandClip=function(P,C,w,s,o,i,a,t,c,l){var b=a-o,v=t-i,d=c-o,u=l-i,e=b*u-v*d>0?w:-w,p=-v,g=b,h=c-a,m=l-t,j=-m,_=h,n=Math.sqrt(h*h+m*m),O=-u,f=d,r=Math.sqrt(d*d+u*u),E=o-e*p/s,k=i-e*g/s,A=a-e*p/s,S=t-e*g/s,M=a-e*j/n,F=t-e*_/n,T=c-e*j/n,z=l-e*_/n,D=o+e*O/r,N=i+e*f/r,L=c+e*O/r,R=l+e*f/r,x=y._$50;return null!=C._$P2(x)&&(y.clipWithTransform(P,x,E,k,A,S,M,F,T,z,L,R,D,N),!0)},y.clipWithTransform=function(n,a){if(arguments.length<7)s._$li("err : @LDGL.clip()");else if(arguments[1]instanceof R){var o=y._$B,i=a,e=arguments,t;if(n.beginPath(),i){i._$PS(e[2],e[3],o),n.moveTo(o[0],o[1]);for(t=4;t<e.length;t+=2)i._$PS(e[t],e[t+1],o),n.lineTo(o[0],o[1])}else{n.moveTo(e[2],e[3]);for(t=4;t<e.length;t+=2)n.lineTo(e[t],e[t+1])}n.clip()}else s._$li("err : a[0] is _$6 LDTransform @LDGL.clip()")},y.createCanvas=function(t,n){var e=document.createElement("canvas");return e.setAttribute("width",t),e.setAttribute("height",n),e||s._$li("err : "+e),e},y.dumpValues=function(){for(var t="",e=0;e<arguments.length;e++)t+="["+e+"]= "+arguments[e].toFixed(3)+" , ";console.log(t)},ee.prototype._$F0=function(e){this._$TT=e._$_T(),this._$LT=e._$_T(),this._$FS=e._$_T(),this._$wL=e._$nP()},ee.prototype.getMinValue=function(){return this._$TT},ee.prototype.getMaxValue=function(){return this._$LT},ee.prototype.getDefaultValue=function(){return this._$FS},ee.prototype.getParamID=function(){return this._$wL},L.prototype._$yo=function(){return this._$AT&&!this._$JS},L.prototype._$hS=function(e){this._$AT=e},L.prototype._$GT=function(){return this._$e0},L.prototype._$l2=function(e){this._$IP=e},L.prototype.getPartsIndex=function(){return this._$IP},L.prototype._$x2=function(){return this._$JS},L.prototype._$Ib=function(e){this._$JS=e},L.prototype.getTotalScale=function(){return this.totalScale},L.prototype.setTotalScale_notForClient=function(e){this.totalScale=e},L.prototype.getInterpolatedOpacity=function(){return this._$7s},L.prototype.setInterpolatedOpacity=function(e){this._$7s=e},L.prototype.getTotalOpacity=function(){return this.totalOpacity},L.prototype.setTotalOpacity=function(e){this.totalOpacity=e},t._$2s="2.1.00_1",t._$Kr=201001e3,t._$sP=!0,t._$so=!0,t._$cb=!1,t._$3T=!0,t._$Ts=!0,t._$fb=!0,t._$ts=!0,t.L2D_DEFORMER_EXTEND=!0,t._$Wb=!1,t._$yr=!1,t._$Zs=!1,t.L2D_NO_ERROR=0,t._$i7=1e3,t._$9s=1001,t._$es=1100,t._$r7=2e3,t._$07=2001,t._$b7=2002,t._$H7=4e3,t.L2D_COLOR_BLEND_MODE_MULT=0,t.L2D_COLOR_BLEND_MODE_ADD=1,t.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,t._$6b=!0,t._$cT=0,t.clippingMaskBufferSize=256,t.glContext=new Array,t.frameBuffers=new Array,t.fTexture=new Array,t.IGNORE_CLIP=!1,t.IGNORE_EXPAND=!1,t.EXPAND_W=2,t.USE_ADJUST_TRANSLATION=!0,t.USE_CANVAS_TRANSFORM=!0,t.USE_CACHED_POLYGON_IMAGE=!1,t.DEBUG_DATA={},t.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},t.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},t.PROFILE_IOS_DEFAULT=t.PROFILE_IOS_QUALITY,t.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},t.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},t.initProfile=function(){v.isIOS()?t.setupProfile(t.PROFILE_IOS_DEFAULT):v.isAndroid()?t.setupProfile(t.PROFILE_ANDROID):t.setupProfile(t.PROFILE_DESKTOP)},t.setupProfile=function(e,s){if("number"==typeof e)switch(e){case 9901:e=t.PROFILE_IOS_SPEED;break;case 9902:e=t.PROFILE_IOS_QUALITY;break;case 9903:e=t.PROFILE_IOS_DEFAULT;break;case 9904:e=t.PROFILE_ANDROID;break;case 9905:e=t.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+e)}for(var n in arguments.length<2&&(s=!0),s&&console.log("profile : "+e.PROFILE_NAME),e)t[n]=e[n],s&&console.log("  ["+n+"] = "+e[n])},t.init=function(){t._$6b&&(console.log("Live2D %s",t._$2s),t._$6b=!1,!0,t.initProfile())},t.getVersionStr=function(){return t._$2s},t.getVersionNo=function(){return t._$Kr},t._$sT=function(e){t._$cT=e},t.getError=function(){var e=t._$cT;return t._$cT=0,e},t.dispose=function(){t.glContext=[],t.frameBuffers=[],t.fTexture=[]},t.setGL=function(e,n){var s=n||0;t.glContext[s]=e},t.getGL=function(e){return t.glContext[e]},t.setClippingMaskBufferSize=function(e){t.clippingMaskBufferSize=e},t.getClippingMaskBufferSize=function(){return t.clippingMaskBufferSize},t.deleteBuffer=function(e){t.getGL(e).deleteFramebuffer(t.frameBuffers[e].framebuffer),delete t.frameBuffers[e],delete t.glContext[e]},e2._$r2=function(e){return e<0?0:e>1?1:.5-.5*Math.cos(e*k.PI_F)},q._$fr=-1,q.prototype.toString=function(){return this._$ib},f.prototype=new r,f._$42=0,f._$Os=30,f._$ms=0,f._$ns=1,f._$_s=2,f._$gT=new Array,f.prototype._$_S=function(e){this._$LP=e},f.prototype.getTextureNo=function(){return this._$LP},f.prototype._$ZL=function(){return this._$Qi},f.prototype._$H2=function(){return this._$JP},f.prototype.getNumPoints=function(){return this._$d0},f.prototype.getType=function(){return r._$wb},f.prototype._$B2=function(i,n,s){var e=n,o=null!=e._$hr?e._$hr:e._$Cr,t;switch(d._$do){default:case d._$Ms:throw new Error("_$L _$ro ");case d._$Qs:for(t=this._$d0-1;t>=0;--t)o[t*d._$No+4]=s}},f.prototype._$zP=function(){this._$GS=new $,this._$GS._$zP()},f.prototype._$F0=function(e){r.prototype._$F0.call(this,e),this._$LP=e._$6L(),this._$d0=e._$6L(),this._$Yo=e._$6L();var n=e._$nP(),t,s;this._$BP=new Int16Array(3*this._$Yo);for(t=3*this._$Yo-1;t>=0;--t)this._$BP[t]=n[t];this._$Eo=e._$nP(),this._$Qi=e._$nP(),e.getFormatVersion()>=j._$s7?(this._$JP=e._$6L(),0!=this._$JP)&&(0!=(1&this._$JP)&&(s=e._$6L(),null==this._$5P&&(this._$5P=new Object),this._$5P._$Hb=parseInt(s)),0!=(this._$JP&f._$Os)?this._$6s=(this._$JP&f._$Os)>>1:this._$6s=f._$ms,0!=(32&this._$JP)&&(this.culling=!1)):this._$JP=0},f.prototype.init=function(){var e=new eu(this),o=this._$d0*d._$No,i=this._$32(),t,s;switch(null!=e._$Cr&&(e._$Cr=null),e._$Cr=new Float32Array(o),null!=e._$hr&&(e._$hr=null),e._$hr=i?new Float32Array(o):null,d._$do){default:case d._$Ms:if(d._$Ls)for(t=this._$d0-1;t>=0;--t)s=t<<1,this._$Qi[s+1]=1-this._$Qi[s+1];break;case d._$Qs:for(t=this._$d0-1;t>=0;--t){s=t<<1;var n=t*d._$No,a=this._$Qi[s],r=this._$Qi[s+1];e._$Cr[n]=a,e._$Cr[n+1]=r,e._$Cr[n+4]=0,i&&(e._$hr[n]=a,e._$hr[n+1]=r,e._$hr[n+4]=0)}}return e},f.prototype._$Nr=function(t,s){var e=s,n;this!=e._$GT()&&console.log("### assert!! ### "),this._$GS._$Ur(t)&&(r.prototype._$Nr.call(this,t,e),!e._$IS[0])&&(n=f._$gT,n[0]=!1,Y._$Vr(t,this._$GS,n,this._$d0,this._$Eo,e._$Cr,d._$i2,d._$No))},f.prototype._$2b=function(n,o){try{if(this!=o._$GT()&&console.log("### assert!! ### "),a=!1,o._$IS[0]&&(a=!0),e=o,!a&&(r.prototype._$2b.call(this,n),this._$32()))if(c=this.getTargetBaseDataID(),e._$8r==r._$ur&&(e._$8r=n.getBaseDataIndex(c)),e._$8r<0)t._$so&&s._$li("_$L _$0P _$G :: %s",c);else{var a,e,c,l=n.getBaseData(e._$8r),i=n._$q2(e._$8r);null==l||i._$x2()?e._$AT=!1:(l._$nb(n,i,e._$Cr,e._$hr,this._$d0,d._$i2,d._$No),e._$AT=!0),e.baseOpacity=i.getTotalOpacity()}}catch(e){throw e}},f.prototype.draw=function(n,o,e){if(this!=e._$GT()&&console.log("### assert!! ### "),!e._$IS[0]){var t=e,s=this._$LP,i,a;s<0&&(s=1),i=this.getOpacity(o,t)*e._$VS*e.baseOpacity,a=null!=t._$hr?t._$hr:t._$Cr,n.setClipBufPre_clipContextForDraw(e.clipBufPre_clipContext),n._$WP(this.culling),n._$Uo(s,3*this._$Yo,this._$BP,a,this._$Qi,i,this._$6s,t)}},f.prototype.dump=function(){console.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \n",this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(e=0;e<this._$BP.length;e++)console.log("%5d ,",this._$BP[e]);console.log("\n  _$5i _$30");for(e=0;e<this._$Eo.length;e++){console.log("\n    _$30[%d] = ",e);for(var e,n=this._$Eo[e],t=0;t<n.length;t++)console.log("%6.2f, ",n[t])}console.log("\n")},f.prototype._$72=function(e){return null==this._$5P?null:this._$5P[e]},f.prototype.getIndexArray=function(){return this._$BP},eu.prototype=new ea,eu.prototype.getTransformedPoints=function(){return null!=this._$hr?this._$hr:this._$Cr},e1.prototype._$HT=function(e){this.x=e.x,this.y=e.y},e1.prototype._$HT=function(e,t){this.x=e,this.y=t},O.prototype=new a,O.loadModel=function(t){var e=new O;return a._$62(e,t),e},O.loadModel=function(t,n){var e=new O(n||0);return a._$62(e,t),e},O._$to=function(){return new O},O._$er=function(i){if(t=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d"),0==t.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+t._$PL());for(var t,s=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],o=O.loadModel(t._$3b()),e=0,n;e<s.length;e++){if(n=new _$5(s[e]),0==n.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+n._$PL());o.setTexture(e,_$nL._$_o(i,n._$3b()))}return o},O.prototype.setGL=function(e){t.setGL(e)},O.prototype.setTransform=function(e){this.drawParamWebGL.setTransform(e)},O.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},O.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},O.prototype._$K2=function(){this.drawParamWebGL._$K2()},O.prototype.setTexture=function(e,t){null==this.drawParamWebGL&&s._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(e,t)},O.prototype.setTexture=function(e,t){null==this.drawParamWebGL&&s._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(e,t)},O.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},O.prototype._$Ds=function(e){this.drawParamWebGL._$Ds(e)},O.prototype.getDrawParam=function(){return this.drawParamWebGL},O.prototype.setMatrix=function(e){this.drawParamWebGL.setMatrix(e)},O.prototype.setPremultipliedAlpha=function(e){this.drawParamWebGL.setPremultipliedAlpha(e)},O.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},O.prototype.setAnisotropy=function(e){this.drawParamWebGL.setAnisotropy(e)},O.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()},X.prototype._$tb=function(){return this.motions},X.prototype.startMotion=function(o){for(var e=null,t=this.motions.length,n=0,i;n<t;++n)null!=(e=this.motions[n])&&(e._$qS(e._$w0.getFadeOut()),this._$eb&&s._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\n",t,e._$sr));return null==o?-1:((e=new et)._$w0=o,this.motions.push(e),i=e._$sr,this._$eb&&s._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\n",t,i),i)},X.prototype.updateParam=function(i){try{for(var n=!1,e=0,t,o;e<this.motions.length;e++)t=this.motions[e],null!=t?(o=t._$w0,null!=o?(o.updateParam(i,t),n=!0,t.isFinished()&&(this._$eb&&s._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\n",this.motions.length-1,t._$sr),this.motions.splice(e,1),e--)):(this.motions=this.motions.splice(e,1),e--)):(this.motions.splice(e,1),e--);return n}catch(e){return s._$li(e),!0}},X.prototype.isFinished=function(n){if(arguments.length>=1){for(var e=0,t;e<this.motions.length;e++)if(null!=(t=this.motions[e])&&t._$sr==n&&!t.isFinished())return!1;return!0}for(e=0;e<this.motions.length;e++)if(null!=(t=this.motions[e]))if(null!=t._$w0){if(!t.isFinished())return!1}else this.motions.splice(e,1),e--;else this.motions.splice(e,1),e--;return!0},X.prototype.stopAllMotions=function(){for(var e=0,t;e<this.motions.length;e++)t=this.motions[e],null!=t?(t._$w0,this.motions.splice(e,1),e--):(this.motions.splice(e,1),e--)},X.prototype._$Zr=function(e){this._$eb=e},X.prototype._$e=function(){console.log("-- _$R --\n");for(var e=0,t;e<this.motions.length;e++)t=this.motions[e]._$w0,console.log("MotionQueueEnt[%d] :: %s\n",this.motions.length,t.toString())},et._$Gs=0,et.prototype.isFinished=function(){return this._$9L},et.prototype._$qS=function(t){var e=l.getUserTimeMSec()+t;(this._$Do<0||e<this._$Do)&&(this._$Do=e)},et.prototype._$Bs=function(){return this._$sr},R.prototype.setContext=function(t){var e=this.m;t.transform(e[0],e[1],e[3],e[4],e[6],e[7])},R.prototype.toString=function(){for(var t="LDTransform { ",e=0;e<9;e++)t+=this.m[e].toFixed(2)+" ,";return t+=" }"},R.prototype.identity=function(){var e=this.m;e[0]=e[4]=e[8]=1,e[1]=e[2]=e[3]=e[5]=e[6]=e[7]=0},R.prototype._$PS=function(n,s,t){null==t&&(t=new Array(0,0));var e=this.m;return t[0]=e[0]*n+e[3]*s+e[6],t[1]=e[1]*n+e[4]*s+e[7],t},R.prototype._$P2=function(e){e||(e=new R);var t=this.m,a=t[0],s=t[1],o=t[2],i=t[3],u=t[4],r=t[5],c=t[6],l=t[7],d=t[8],h=a*u*d+s*r*c+o*i*l-a*r*l-o*u*c-s*i*d,n;return 0==h?null:(n=1/h,e.m[0]=n*(u*d-l*r),e.m[1]=n*(l*o-s*d),e.m[2]=n*(s*r-u*o),e.m[3]=n*(c*r-i*d),e.m[4]=n*(a*d-c*o),e.m[5]=n*(i*o-a*r),e.m[6]=n*(i*l-c*u),e.m[7]=n*(c*s-a*l),e.m[8]=n*(a*u-i*s),e)},R.prototype.transform=function(n,s,t){null==t&&(t=new Array(0,0));var e=this.m;return t[0]=e[0]*n+e[3]*s+e[6],t[1]=e[1]*n+e[4]*s+e[7],t},R.prototype.translate=function(t,n){var e=this.m;e[6]=e[0]*t+e[3]*n+e[6],e[7]=e[1]*t+e[4]*n+e[7],e[8]=e[2]*t+e[5]*n+e[8]},R.prototype.scale=function(t,n){var e=this.m;e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=n,e[4]*=n,e[5]*=n},R.prototype.shear=function(t,n){var e=this.m,s=e[0]+e[3]*n,o=e[1]+e[4]*n,i=e[2]+e[5]*n;e[3]=e[0]*t+e[3],e[4]=e[1]*t+e[4],e[5]=e[2]*t+e[5],e[0]=s,e[1]=o,e[2]=i},R.prototype.rotate=function(s){var e=this.m,t=Math.cos(s),n=Math.sin(s),o=e[0]*t+e[3]*n,i=e[1]*t+e[4]*n,a=e[2]*t+e[5]*n;e[3]=-e[0]*n+e[3]*t,e[4]=-e[1]*n+e[4]*t,e[5]=-e[2]*n+e[5]*t,e[0]=o,e[1]=i,e[2]=a},R.prototype.concatenate=function(n){var e=this.m,t=n.m,s=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],o=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],i=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],a=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],r=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],c=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],l=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],d=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],u=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];m[0]=s,m[1]=o,m[2]=i,m[3]=a,m[4]=r,m[5]=c,m[6]=l,m[7]=d,m[8]=u},E.prototype=new G,E._$eT=null,E._$tP=new Object,E._$2o=function(){return null==E._$eT&&(E._$eT=E.getID("DST_BASE")),E._$eT},E._$27=function(){E._$tP.clear(),E._$eT=null},E.getID=function(t){var e=E._$tP[t];return null==e&&(e=new E(t),E._$tP[t]=e),e},E.prototype._$3s=function(){return new E},C.prototype=new p,C._$9r=function(e){return new Float32Array(e)},C._$vb=function(e){return new Int16Array(e)},C._$cr=function(e,t){return null==e||e._$yL()<t.length?((e=C._$9r(2*t.length)).put(t),e._$oT(0)):(e.clear(),e.put(t),e._$oT(0)),e},C._$mb=function(e,t){return null==e||e._$yL()<t.length?((e=C._$vb(2*t.length)).put(t),e._$oT(0)):(e.clear(),e.put(t),e._$oT(0)),e},C._$Hs=function(){return this._$Gr},C._$as=function(e){this._$Gr=e},C.prototype.getGL=function(){return this.gl},C.prototype.setGL=function(e){this.gl=e},C.prototype.setTransform=function(e){this.transform=e},C.prototype._$ZT=function(){var e=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=e.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.DEPTH_TEST),e.frontFace(e.CW),e.enable(e.BLEND),e.colorMask(1,1,1,1),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},C.prototype._$Uo=function(m,w,l,u,h,s,j){if(!(s<.01&&null==this.clipBufPre_clipContextMask)){if(s>.9&&t.EXPAND_W,e=this.gl,null==this.gl)throw new Error("gl is null");var e,o,i,r,a,p=1*this._$C0*s,g=1*this._$tT*s,v=1*this._$WL*s,b=this._$lT*s,d,n,c,y;if(null!=this.clipBufPre_clipContextMask?(e.frontFace(e.CCW),e.useProgram(this.shaderProgram),this._$vS=en(e,this._$vS,u),this._$no=e8(e,this._$no,l),e.enableVertexAttribArray(this.a_position_Loc),e.vertexAttribPointer(this.a_position_Loc,2,e.FLOAT,!1,0,0),this._$NT=en(e,this._$NT,h),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.textures[m]),e.uniform1i(this.s_texture0_Loc,1),e.enableVertexAttribArray(this.a_texCoord_Loc),e.vertexAttribPointer(this.a_texCoord_Loc,2,e.FLOAT,!1,0,0),e.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask),d=this.getClipBufPre_clipContextMask().layoutChannelNo,n=this.getChannelFlagAsColor(d),e.uniform4f(this.u_channelFlag,n.r,n.g,n.b,n.a),c=this.getClipBufPre_clipContextMask().layoutBounds,e.uniform4f(this.u_baseColor_Loc,2*c.x-1,2*c.y-1,2*c._$EL()-1,2*c._$5T()-1),e.uniform1i(this.u_maskFlag_Loc,!0)):null!=this.getClipBufPre_clipContextDraw()?(e.useProgram(this.shaderProgramOff),this._$vS=en(e,this._$vS,u),this._$no=e8(e,this._$no,l),e.enableVertexAttribArray(this.a_position_Loc_Off),e.vertexAttribPointer(this.a_position_Loc_Off,2,e.FLOAT,!1,0,0),this._$NT=en(e,this._$NT,h),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.textures[m]),e.uniform1i(this.s_texture0_Loc_Off,1),e.enableVertexAttribArray(this.a_texCoord_Loc_Off),e.vertexAttribPointer(this.a_texCoord_Loc_Off,2,e.FLOAT,!1,0,0),e.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),e.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,t.fTexture[this.glno]),e.uniform1i(this.s_texture1_Loc_Off,2),d=this.getClipBufPre_clipContextDraw().layoutChannelNo,n=this.getChannelFlagAsColor(d),e.uniform4f(this.u_channelFlag_Loc_Off,n.r,n.g,n.b,n.a),e.uniform4f(this.u_baseColor_Loc_Off,p,g,v,b)):(e.useProgram(this.shaderProgram),this._$vS=en(e,this._$vS,u),this._$no=e8(e,this._$no,l),e.enableVertexAttribArray(this.a_position_Loc),e.vertexAttribPointer(this.a_position_Loc,2,e.FLOAT,!1,0,0),this._$NT=en(e,this._$NT,h),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.textures[m]),e.uniform1i(this.s_texture0_Loc,1),e.enableVertexAttribArray(this.a_texCoord_Loc),e.vertexAttribPointer(this.a_texCoord_Loc,2,e.FLOAT,!1,0,0),e.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),e.uniform4f(this.u_baseColor_Loc,p,g,v,b),e.uniform1i(this.u_maskFlag_Loc,!1)),this.culling?this.gl.enable(e.CULL_FACE):this.gl.disable(e.CULL_FACE),this.gl.enable(e.BLEND),null!=this.clipBufPre_clipContextMask)o=e.ONE,i=e.ONE_MINUS_SRC_ALPHA,r=e.ONE,a=e.ONE_MINUS_SRC_ALPHA;else switch(j){case f._$ms:o=e.ONE,i=e.ONE_MINUS_SRC_ALPHA,r=e.ONE,a=e.ONE_MINUS_SRC_ALPHA;break;case f._$ns:o=e.ONE,i=e.ONE,r=e.ZERO,a=e.ONE;break;case f._$_s:o=e.DST_COLOR,i=e.ONE_MINUS_SRC_ALPHA,r=e.ZERO,a=e.ONE}e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(o,i,r,a),this.anisotropyExt&&e.texParameteri(e.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy),y=l.length,e.drawElements(e.TRIANGLES,y,e.UNSIGNED_SHORT,0),e.bindTexture(e.TEXTURE_2D,null)}},C.prototype._$Rs=function(){throw new Error("_$Rs")},C.prototype._$Ds=function(){throw new Error("_$Ds")},C.prototype._$K2=function(){for(var e=0;e<this.textures.length;e++)0!=this.textures[e]&&(this.gl._$K2(1,this.textures,e),this.textures[e]=null)},C.prototype.setTexture=function(e,t){this.textures[e]=t},C.prototype.initShader=function(){var e=this.gl;this.loadShaders2(),this.a_position_Loc=e.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=e.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=e.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=e.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=e.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=e.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=e.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=e.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=e.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=e.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=e.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=e.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=e.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=e.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=e.getUniformLocation(this.shaderProgramOff,"u_baseColor")},C.prototype.disposeShader=function(){var e=this.gl;this.shaderProgram&&(e.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(e.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},C.prototype.compileShader=function(n,o){var e=this.gl,i=o,t=e.createShader(n),a;return null==t?(s._$Ji("_$L0 to create shader"),null):(e.shaderSource(t,i),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))?(a=e.getShaderInfoLog(t),s._$Ji("_$L0 to compile shader : "+a),e.deleteShader(t),null):t},C.prototype.loadShaders2=function(){var e=this.gl,t;return!(this.shaderProgram=e.createProgram(),!this.shaderProgram)&&(!(this.shaderProgramOff=e.createProgram(),!this.shaderProgramOff)&&(this.vertShader=this.compileShader(e.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}"),!this.vertShader?(s._$Ji("Vertex shader compile _$li!"),!1):(this.vertShaderOff=this.compileShader(e.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}"),!this.vertShaderOff)?(s._$Ji("OffVertex shader compile _$li!"),!1):(this.fragShader=this.compileShader(e.FRAGMENT_SHADER,"precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}"),!this.fragShader)?(s._$Ji("Fragment shader compile _$li!"),!1):(this.fragShaderOff=this.compileShader(e.FRAGMENT_SHADER,"precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}"),!this.fragShaderOff)?(s._$Ji("OffFragment shader compile _$li!"),!1):!(e.attachShader(this.shaderProgram,this.vertShader),e.attachShader(this.shaderProgram,this.fragShader),e.attachShader(this.shaderProgramOff,this.vertShaderOff),e.attachShader(this.shaderProgramOff,this.fragShaderOff),e.linkProgram(this.shaderProgram),e.linkProgram(this.shaderProgramOff),!e.getProgramParameter(this.shaderProgram,e.LINK_STATUS))||(t=e.getProgramInfoLog(this.shaderProgram),s._$Ji("_$L0 to link program: "+t),this.vertShader&&(e.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(e.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(e.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(e.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(e.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(e.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1)))},C.prototype.createFramebuffer=function(){var e=this.gl,n=t.clippingMaskBufferSize,i=e.createFramebuffer(),s,o;return e.bindFramebuffer(e.FRAMEBUFFER,i),s=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s),e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n,n),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,s),o=e.createTexture(),e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,n,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.fTexture[this.glno]=o,{framebuffer:i,renderbuffer:s,texture:t.fTexture[this.glno]}},S.prototype._$fP=function(){var t,n,s,e=this._$ST();if(0==(128&e))return 255&e;if(0==(128&(t=this._$ST())))return(127&e)<<7|127&t;if(0==(128&(n=this._$ST())))return(127&e)<<14|(127&t)<<7|255&n;if(0==(128&(s=this._$ST())))return(127&e)<<21|(127&t)<<14|(127&n)<<7|255&s;throw new q("_$L _$0P  _")},S.prototype.getFormatVersion=function(){return this._$S2},S.prototype._$gr=function(e){this._$S2=e},S.prototype._$3L=function(){return this._$fP()},S.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},S.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},S.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},S.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},S.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},S.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new q("_$L _$q read long")},S.prototype._$po=function(){return this._$zT(),0!=this._$T.getInt8(this._$F++)},ep=!0;function k(){}function ea(e){i||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=e)}function v(){}S.prototype._$bT=function(){this._$zT();var n=this._$3L(),t=null,o,e,s;if(ep)try{o=new ArrayBuffer(2*n),t=new Uint16Array(o);for(e=0;e<n;++e)t[e]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,t)}catch(e){ep=!1}try{if(s=new Array,null==t)for(e=0;e<n;++e)s[e]=this._$T.getUint8(this._$F++);else for(e=0;e<n;++e)s[e]=t[e];return String.fromCharCode.apply(null,s)}catch(e){console.log("read utf8 / _$rT _$L0 !! : "+e)}},S.prototype._$cS=function(){this._$zT();for(var t=this._$3L(),n=new Int32Array(t),e=0;e<t;e++)n[e]=this._$T.getInt32(this._$F),this._$F+=4;return n},S.prototype._$Tb=function(){this._$zT();for(var t=this._$3L(),n=new Float32Array(t),e=0;e<t;e++)n[e]=this._$T.getFloat32(this._$F),this._$F+=4;return n},S.prototype._$5b=function(){this._$zT();for(var t=this._$3L(),n=new Float64Array(t),e=0;e<t;e++)n[e]=this._$T.getFloat64(this._$F),this._$F+=8;return n},S.prototype._$nP=function(){return this._$Jb(-1)},S.prototype._$Jb=function(e){if(this._$zT(),e<0&&(e=this._$3L()),e==j._$7P){var t=this._$6L(),n;if(0<=t&&t<this._$Ko.length)return this._$Ko[t];throw new q("_$sL _$4i @_$m0")}return n=this._$4b(e),this._$Ko.push(n),n},S.prototype._$4b=function(e){if(0==e)return null;if(50==e)return t=this._$bT(),n=I.getID(t);if(51==e)return t=this._$bT(),n=E.getID(t);if(134==e)return t=this._$bT(),n=D.getID(t);if(60==e)return t=this._$bT(),n=z.getID(t);if(e>=48)return s=j._$9o(e),null!=s?(s._$F0(this),s):null;switch(e){case 1:return this._$bT();case 10:return new function(){i||(this.color=null)}(this._$6L(),!0);case 11:return new V(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new V(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new ed(this._$mP(),this._$mP());case 14:return new ed(this._$_T(),this._$_T());case 15:for(var t,s,r=this._$3L(),n=new Array(r),a=0;a<r;a++)n[a]=this._$nP();return n;case 17:return n=new o(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());case 21:return new Z(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new e1(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new q("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+e);default:throw new q("_$6 _$q : _$nP() NO _$i : "+e)}},S.prototype._$8L=function(){return 0==this._$hL?this._$v0=this._$ST():8==this._$hL&&(this._$v0=this._$ST(),this._$hL=0),1==(this._$v0>>7-this._$hL++&1)},S.prototype._$zT=function(){0!=this._$hL&&(this._$hL=0)},k._$2S=Math.PI/180,k._$bS=Math.PI/180,k._$wS=180/Math.PI,k._$NS=180/Math.PI,k.PI_F=Math.PI,k._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],k._$92=function(e,t){var n=Math.atan2(e[1],e[0]),s=Math.atan2(t[1],t[0]);return k._$tS(n,s)},k._$tS=function(t,n){for(var e=t-n;e<-Math.PI;)e+=2*Math.PI;for(;e>Math.PI;)e-=2*Math.PI;return e},k._$9=function(e){return Math.sin(e)},k.fcos=function(e){return Math.cos(e)},ea.prototype._$u2=function(){return this._$IS[0]},ea.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},ea.prototype._$GT=function(){return this._$e0},v._$W2=0,v.SYSTEM_INFO=null,v.USER_AGENT=navigator.userAgent,v.isIPhone=function(){return v.SYSTEM_INFO||v.setup(),v.SYSTEM_INFO._isIPhone},v.isIOS=function(){return v.SYSTEM_INFO||v.setup(),v.SYSTEM_INFO._isIPhone||v.SYSTEM_INFO._isIPad},v.isAndroid=function(){return v.SYSTEM_INFO||v.setup(),v.SYSTEM_INFO._isAndroid},v.getOSVersion=function(){return v.SYSTEM_INFO||v.setup(),v.SYSTEM_INFO.version},v.getOS=function(){return v.SYSTEM_INFO||v.setup(),v.SYSTEM_INFO._isIPhone||v.SYSTEM_INFO._isIPad?"iOS":v.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},v.setup=function(){var n,t=v.USER_AGENT,e;function o(i,a){for(var o=i.substring(a).split(/[ _,;.]/),n=0,e=0,t;e<=2&&!isNaN(o[e]);e++){if(t=parseInt(o[e]),t<0||t>999){s._$li("err : "+t+" @UtHtml5.setup()"),n=0;break}n+=t*Math.pow(1e3,2-e)}return n}if(e=v.SYSTEM_INFO={userAgent:t},(n=t.indexOf("iPhone OS "))>=0)e.os="iPhone",e._isIPhone=!0,e.version=o(t,n+"iPhone OS ".length);else if((n=t.indexOf("iPad"))>=0){if((n=t.indexOf("CPU OS"))<0)return void s._$li(" err : "+t+" @UtHtml5.setup()");e.os="iPad",e._isIPad=!0,e.version=o(t,n+"CPU OS ".length)}else(n=t.indexOf("Android"))>=0?(e.os="Android",e._isAndroid=!0,e.version=o(t,n+"Android ".length)):(e.os="-",e.version=-1)},t.init(),i=!1,e.UtSystem=l,e.UtDebug=s,e.LDTransform=R,e.LDGL=y,e.Live2D=t,e.Live2DModelWebGL=O,e.Live2DModelJS=F,e.Live2DMotion=x,e.MotionQueueManager=X,e.PhysicsHair=w,e.AMotion=N,e.PartsDataID=D,e.DrawDataID=I,e.BaseDataID=E,e.ParamID=z}).call(e,t(85))},81:function(b,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.L2DBaseModel=e.L2DExpressionMotion=e.L2DExpressionParam=e.L2DEyeBlink=e.EYE_STATE=e.L2DMatrix44=e.L2DModelMatrix=e.L2DMotionManager=e.L2DPhysics=e.L2DPartsParam=e.L2DPose=e.L2DViewMatrix=e.Live2DFramework=e.L2DTargetPoint=void 0;var n=v(80),g,i;function s(){this.live2DModel=null,this.modelMatrix=null,this.eyeBlink=null,this.physics=null,this.pose=null,this.debugMode=!1,this.initialized=!1,this.updating=!1,this.alpha=1,this.accAlpha=0,this.lipSync=!1,this.lipSyncValue=0,this.accelX=0,this.accelY=0,this.accelZ=0,this.dragX=0,this.dragY=0,this.startTimeMSec=null,this.mainMotionManager=new l,this.expressionManager=new l,this.motions={},this.expressions={},this.isTexLoaded=!1}g=0;function o(){n.AMotion.prototype.constructor.call(this),this.paramList=new Array}function p(){this.id="",this.type=-1,this.value=null}function m(){this.nextBlinkTime=null,this.stateStartTime=null,this.blinkIntervalMsec=null,this.eyeState=i.STATE_FIRST,this.blinkIntervalMsec=4e3,this.closingMotionMsec=100,this.closedMotionMsec=50,this.openingMotionMsec=150,this.closeIfZero=!0,this.eyeID_L="PARAM_EYE_L_OPEN",this.eyeID_R="PARAM_EYE_R_OPEN"}s.prototype.getModelMatrix=function(){return this.modelMatrix},s.prototype.setAlpha=function(e){e>.999&&(e=1),e<.001&&(e=0),this.alpha=e},s.prototype.getAlpha=function(){return this.alpha},s.prototype.isInitialized=function(){return this.initialized},s.prototype.setInitialized=function(e){this.initialized=e},s.prototype.isUpdating=function(){return this.updating},s.prototype.setUpdating=function(e){this.updating=e},s.prototype.getLive2DModel=function(){return this.live2DModel},s.prototype.setLipSync=function(e){this.lipSync=e},s.prototype.setLipSyncValue=function(e){this.lipSyncValue=e},s.prototype.setAccel=function(e,t,n){this.accelX=e,this.accelY=t,this.accelZ=n},s.prototype.setDrag=function(e,t){this.dragX=e,this.dragY=t},s.prototype.getMainMotionManager=function(){return this.mainMotionManager},s.prototype.getExpressionManager=function(){return this.expressionManager},s.prototype.loadModelData=function(t,o){var s=r.getPlatformManager(),e;this.debugMode&&s.log("Load model : "+t),e=this,s.loadLive2DModel(t,function(t){e.live2DModel=t,e.live2DModel.saveParam(),0==n.Live2D.getError()?(e.modelMatrix=new a(e.live2DModel.getCanvasWidth(),e.live2DModel.getCanvasHeight()),e.modelMatrix.setWidth(2),e.modelMatrix.setCenterPosition(0,0),o(e.live2DModel)):console.error("Error : Failed to loadModelData().")})},s.prototype.loadTexture=function(s,e,t){g++;var n=r.getPlatformManager(),o;this.debugMode&&n.log("Load Texture : "+e),o=this,n.loadTexture(this.live2DModel,s,e,function(){0==--g&&(o.isTexLoaded=!0),"function"==typeof t&&t()})},s.prototype.loadMotion=function(t,s,i){o=r.getPlatformManager(),this.debugMode&&o.log("Load Motion : "+s);var o,e=null,a=this;o.loadBytes(s,function(s){e=n.Live2DMotion.loadMotion(s),null!=t&&(a.motions[t]=e),i(e)})},s.prototype.loadExpression=function(e,t,n){var s=r.getPlatformManager(),i;this.debugMode&&s.log("Load Expression : "+t),i=this,s.loadBytes(t,function(t){null!=e&&(i.expressions[e]=o.loadJson(t)),"function"==typeof n&&n()})},s.prototype.loadPose=function(e,t){var n=r.getPlatformManager(),s;this.debugMode&&n.log("Load Pose : "+e),s=this;try{n.loadBytes(e,function(e){s.pose=u.load(e),"function"==typeof t&&t()})}catch(e){console.warn(e)}},s.prototype.loadPhysics=function(e){var t=r.getPlatformManager(),n;this.debugMode&&t.log("Load Physics : "+e),n=this;try{t.loadBytes(e,function(e){n.physics=h.load(e)})}catch(e){console.warn(e)}},s.prototype.hitTestSimple=function(m,h,u){if(null===this.live2DModel)return!1;if(l=this.live2DModel.getDrawDataIndex(m),l<0)return!1;for(var l,o=this.live2DModel.getTransformedPoints(l),i=this.live2DModel.getCanvasWidth(),a=0,r=this.live2DModel.getCanvasHeight(),s=0,n=0,e,t,d,c;n<o.length;n+=2)e=o[n],t=o[n+1],e<i&&(i=e),e>a&&(a=e),t<r&&(r=t),t>s&&(s=t);return d=this.modelMatrix.invertTransformX(h),c=this.modelMatrix.invertTransformY(u),i<=d&&d<=a&&r<=c&&c<=s},o.prototype=new n.AMotion,o.EXPRESSION_DEFAULT="DEFAULT",o.TYPE_SET=0,o.TYPE_ADD=1,o.TYPE_MULT=2,o.loadJson=function(f){if(t=new o,n=r.getPlatformManager().jsonParseFromBytes(f),t.setFadeIn(parseInt(n.fade_in)>0?parseInt(n.fade_in):1e3),t.setFadeOut(parseInt(n.fade_out)>0?parseInt(n.fade_out):1e3),null==n.params)return t;u=n.params,h=u.length,t.paramList=[];for(a=0;a<h;a++){var t,n,u,h,a,e=u[a],m=e.id.toString(),c=parseFloat(e.val),l=o.TYPE_ADD,d=null!=e.calc?e.calc.toString():"add",s,i;(l="add"===d?o.TYPE_ADD:"mult"===d?o.TYPE_MULT:"set"===d?o.TYPE_SET:o.TYPE_ADD)==o.TYPE_ADD?c-=s=null==e.def?0:parseFloat(e.def):l==o.TYPE_MULT&&(0==(s=null==e.def?1:parseFloat(e.def))&&(s=1),c/=s),i=new p,i.id=m,i.type=l,i.value=c,t.paramList.push(i)}return t},o.prototype.updateParamExe=function(t,i,n){for(var s=this.paramList.length-1,e;s>=0;--s)e=this.paramList[s],e.type==o.TYPE_ADD?t.addToParamFloat(e.id,e.value,n):e.type==o.TYPE_MULT?t.multParamFloat(e.id,e.value,n):e.type==o.TYPE_SET&&t.setParamFloat(e.id,e.value,n)},m.prototype.calcNextBlink=function(){return n.UtSystem.getUserTimeMSec()+Math.random()*(2*this.blinkIntervalMsec-1)},m.prototype.setInterval=function(e){this.blinkIntervalMsec=e},m.prototype.setEyeMotion=function(e,t,n){this.closingMotionMsec=e,this.closedMotionMsec=t,this.openingMotionMsec=n},m.prototype.updateParam=function(o){var e,t=n.UtSystem.getUserTimeMSec(),s=0;switch(this.eyeState){case i.STATE_CLOSING:(s=(t-this.stateStartTime)/this.closingMotionMsec)>=1&&(s=1,this.eyeState=i.STATE_CLOSED,this.stateStartTime=t),e=1-s;break;case i.STATE_CLOSED:(s=(t-this.stateStartTime)/this.closedMotionMsec)>=1&&(this.eyeState=i.STATE_OPENING,this.stateStartTime=t),e=0;break;case i.STATE_OPENING:(s=(t-this.stateStartTime)/this.openingMotionMsec)>=1&&(s=1,this.eyeState=i.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink()),e=s;break;case i.STATE_INTERVAL:this.nextBlinkTime<t&&(this.eyeState=i.STATE_CLOSING,this.stateStartTime=t),e=1;break;case i.STATE_FIRST:default:this.eyeState=i.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink(),e=1}this.closeIfZero||(e=-e),o.setParamFloat(this.eyeID_L,e),o.setParamFloat(this.eyeID_R,e)},i=function(){};function t(){this.tr=new Float32Array(16),this.identity()}function a(e,n){t.prototype.constructor.call(this),this.width=e,this.height=n}function l(){n.MotionQueueManager.prototype.constructor.call(this),this.currentPriority=null,this.reservePriority=null,this.super=n.MotionQueueManager.prototype}function h(){this.physicsList=new Array,this.startTimeMSec=n.UtSystem.getUserTimeMSec()}function u(){this.lastTime=0,this.lastModel=null,this.partsGroups=new Array}function f(e){this.paramIndex=-1,this.partsIndex=-1,this.link=null,this.id=e}function d(){this.EPSILON=.01,this.faceTargetX=0,this.faceTargetY=0,this.faceX=0,this.faceY=0,this.faceVX=0,this.faceVY=0,this.lastTimeSec=0}function c(){t.prototype.constructor.call(this),this.screenLeft=null,this.screenRight=null,this.screenTop=null,this.screenBottom=null,this.maxLeft=null,this.maxRight=null,this.maxTop=null,this.maxBottom=null}function r(){}i.STATE_FIRST="STATE_FIRST",i.STATE_INTERVAL="STATE_INTERVAL",i.STATE_CLOSING="STATE_CLOSING",i.STATE_CLOSED="STATE_CLOSED",i.STATE_OPENING="STATE_OPENING",t.mul=function(a,o,i){var e,t,n,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<4;e++)for(t=0;t<4;t++)for(n=0;n<4;n++)s[e+4*t]+=a[e+4*n]*o[n+4*t];for(e=0;e<16;e++)i[e]=s[e]},t.prototype.identity=function(){for(var e=0;e<16;e++)this.tr[e]=e%5==0?1:0},t.prototype.getArray=function(){return this.tr},t.prototype.getCopyMatrix=function(){return new Float32Array(this.tr)},t.prototype.setMatrix=function(t){if(null!=this.tr&&this.tr.length==this.tr.length)for(var e=0;e<16;e++)this.tr[e]=t[e]},t.prototype.getScaleX=function(){return this.tr[0]},t.prototype.getScaleY=function(){return this.tr[5]},t.prototype.transformX=function(e){return this.tr[0]*e+this.tr[12]},t.prototype.transformY=function(e){return this.tr[5]*e+this.tr[13]},t.prototype.invertTransformX=function(e){return(e-this.tr[12])/this.tr[0]},t.prototype.invertTransformY=function(e){return(e-this.tr[13])/this.tr[5]},t.prototype.multTranslate=function(e,n){var s=[1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1];t.mul(s,this.tr,this.tr)},t.prototype.translate=function(e,t){this.tr[12]=e,this.tr[13]=t},t.prototype.translateX=function(e){this.tr[12]=e},t.prototype.translateY=function(e){this.tr[13]=e},t.prototype.multScale=function(e,n){var s=[e,0,0,0,0,n,0,0,0,0,1,0,0,0,0,1];t.mul(s,this.tr,this.tr)},t.prototype.scale=function(e,t){this.tr[0]=e,this.tr[5]=t},a.prototype=new t,a.prototype.setPosition=function(e,t){this.translate(e,t)},a.prototype.setCenterPosition=function(e,t){var n=this.width*this.getScaleX(),s=this.height*this.getScaleY();this.translate(e-n/2,t-s/2)},a.prototype.top=function(e){this.setY(e)},a.prototype.bottom=function(e){var t=this.height*this.getScaleY();this.translateY(e-t)},a.prototype.left=function(e){this.setX(e)},a.prototype.right=function(e){var t=this.width*this.getScaleX();this.translateX(e-t)},a.prototype.centerX=function(e){var t=this.width*this.getScaleX();this.translateX(e-t/2)},a.prototype.centerY=function(e){var t=this.height*this.getScaleY();this.translateY(e-t/2)},a.prototype.setX=function(e){this.translateX(e)},a.prototype.setY=function(e){this.translateY(e)},a.prototype.setHeight=function(t){var e=t/this.height,n=-e;this.scale(e,n)},a.prototype.setWidth=function(t){var e=t/this.width,n=-e;this.scale(e,n)},l.prototype=new n.MotionQueueManager,l.prototype.getCurrentPriority=function(){return this.currentPriority},l.prototype.getReservePriority=function(){return this.reservePriority},l.prototype.reserveMotion=function(e){return!(this.reservePriority>=e)&&!(this.currentPriority>=e)&&(this.reservePriority=e,!0)},l.prototype.setReservePriority=function(e){this.reservePriority=e},l.prototype.updateParam=function(e){var t=n.MotionQueueManager.prototype.updateParam.call(this,e);return this.isFinished()&&(this.currentPriority=0),t},l.prototype.startMotionPrio=function(t,e){return e==this.reservePriority&&(this.reservePriority=0),this.currentPriority=e,this.startMotion(t,!1)},h.load=function(C){for(var v=new h,g=r.getPlatformManager().jsonParseFromBytes(C).physics_hair,x=g.length,d=0;d<x;d++){var l=g[d],o=new n.PhysicsHair,c=l.setup,w=parseFloat(c.length),_=parseFloat(c.regist),y=parseFloat(c.mass),m,u,p,O,s,i;o.setup(w,_,y);for(var b=l.src,j=b.length,t=0;t<j;t++){var a=b[t],f=a.id,e=n.PhysicsHair.Src.SRC_TO_X;"x"===(s=a.ptype)?e=n.PhysicsHair.Src.SRC_TO_X:"y"===s?e=n.PhysicsHair.Src.SRC_TO_Y:"angle"===s?e=n.PhysicsHair.Src.SRC_TO_G_ANGLE:n.UtDebug.error("live2d","Invalid parameter:PhysicsHair.Src"),m=parseFloat(a.scale),u=parseFloat(a.weight),o.addSrcParam(e,f,m,u)}p=l.targets,O=p.length;for(t=0;t<O;t++)i=p[t],f=i.id,e=n.PhysicsHair.Target.TARGET_FROM_ANGLE,"angle"===(s=i.ptype)?e=n.PhysicsHair.Target.TARGET_FROM_ANGLE:"angle_v"===s?e=n.PhysicsHair.Target.TARGET_FROM_ANGLE_V:n.UtDebug.error("live2d","Invalid parameter:PhysicsHair.Target"),m=parseFloat(i.scale),u=parseFloat(i.weight),o.addTargetParam(e,f,m,u);v.physicsList.push(o)}return v},h.prototype.updateParam=function(t){for(var s=n.UtSystem.getUserTimeMSec()-this.startTimeMSec,e=0;e<this.physicsList.length;e++)this.physicsList[e].update(t,s)},u.load=function(h){for(var i=new u,d=r.getPlatformManager().jsonParseFromBytes(h).parts_visible,g=d.length,s=0,o,t,c,p,n,v;s<g;s++){for(var a=d[s].group,m=a.length,l=new Array,e=0;e<m;e++)if(o=a[e],t=new f(o.id),l[e]=t,null!=o.link){c=o.link,p=c.length,t.link=new Array;for(n=0;n<p;n++)v=new f(c[n]),t.link.push(v)}i.partsGroups.push(l)}return i},u.prototype.updateParam=function(e){if(null!=e){e!=this.lastModel&&this.initParam(e),this.lastModel=e;var o=n.UtSystem.getUserTimeMSec(),s=0==this.lastTime?0:(o-this.lastTime)/1e3,t;this.lastTime=o,s<0&&(s=0);for(t=0;t<this.partsGroups.length;t++)this.normalizePartsOpacityGroup(e,this.partsGroups[t],s),this.copyOpacityOtherParts(e,this.partsGroups[t])}},u.prototype.initParam=function(n){if(null!=n)for(s=0;s<this.partsGroups.length;s++)for(var s,t=this.partsGroups[s],e=0,i,a,r,o;e<t.length;e++)if(t[e].initIndex(n),i=t[e].partsIndex,a=t[e].paramIndex,!(i<0))if(r=0!=n.getParamFloat(a),n.setPartsOpacity(i,r?1:0),n.setParamFloat(a,r?1:0),null!=t[e].link)for(o=0;o<t[e].link.length;o++)t[e].link[o].initIndex(n)},u.prototype.normalizePartsOpacityGroup=function(i,s,l){for(var o=-1,e=1,t=0,n,c,a,r;t<s.length;t++)if(n=s[t].partsIndex,c=s[t].paramIndex,!(n<0)&&0!=i.getParamFloat(c)){if(o>=0)break;o=t,e=i.getPartsOpacity(n),(e+=l/.5)>1&&(e=1)}o<0&&(o=0,e=1);for(t=0;t<s.length;t++)(n=s[t].partsIndex)<0||(o==t?i.setPartsOpacity(n,e):(r=i.getPartsOpacity(n),(1-(a=e<.5?-.5*e/.5+1:.5*(1-e)/.5))*(1-e)>.15&&(a=1-.15/(1-e)),r>a&&(r=a),i.setPartsOpacity(n,r)))},u.prototype.copyOpacityOtherParts=function(s,o){for(t=0;t<o.length;t++)if(e=o[t],null!=e.link&&!(e.partsIndex<0))for(var t,e,a=s.getPartsOpacity(e.partsIndex),n=0,i;n<e.link.length;n++)i=e.link[n],i.partsIndex<0||s.setPartsOpacity(i.partsIndex,a)},f.prototype.initIndex=function(e){this.paramIndex=e.getParamIndex("VISIBLE:"+this.id),this.partsIndex=e.getPartsDataIndex(n.PartsDataID.getID(this.id)),e.setParamFloat(this.paramIndex,1)},d.FRAME_RATE=60,d.prototype.setPoint=function(e,t){this.faceTargetX=e,this.faceTargetY=t},d.prototype.getX=function(){return this.faceX},d.prototype.getY=function(){return this.faceY},d.prototype.update=function(){if(c=40/7.5/d.FRAME_RATE,0!=this.lastTimeSec){{h=n.UtSystem.getUserTimeMSec(),f=(h-this.lastTimeSec)*d.FRAME_RATE/1e3,this.lastTimeSec=h;var e=f*c/(.15*d.FRAME_RATE),i=this.faceTargetX-this.faceX,a=this.faceTargetY-this.faceY;if(!(Math.abs(i)<=this.EPSILON&&Math.abs(a)<=this.EPSILON)){var c,h,f,r=Math.sqrt(i*i+a*a),m=c*a/r,o=c*i/r-this.faceVX,s=m-this.faceVY,t=Math.sqrt(o*o+s*s),l,u;(t<-e||t>e)&&(o*=e/t,s*=e/t,t=e),this.faceVX+=o,this.faceVY+=s,l=.5*(Math.sqrt(e*e+16*e*r-8*e*r)-e),u=Math.sqrt(this.faceVX*this.faceVX+this.faceVY*this.faceVY),u>l&&(this.faceVX*=l/u,this.faceVY*=l/u),this.faceX+=this.faceVX,this.faceY+=this.faceVY}}}else this.lastTimeSec=n.UtSystem.getUserTimeMSec()},c.prototype=new t,c.prototype.adjustTranslate=function(e,n){this.tr[0]*this.maxLeft+(this.tr[12]+e)>this.screenLeft&&(e=this.screenLeft-this.tr[0]*this.maxLeft-this.tr[12]),this.tr[0]*this.maxRight+(this.tr[12]+e)<this.screenRight&&(e=this.screenRight-this.tr[0]*this.maxRight-this.tr[12]),this.tr[5]*this.maxTop+(this.tr[13]+n)<this.screenTop&&(n=this.screenTop-this.tr[5]*this.maxTop-this.tr[13]),this.tr[5]*this.maxBottom+(this.tr[13]+n)>this.screenBottom&&(n=this.screenBottom-this.tr[5]*this.maxBottom-this.tr[13]);var s=[1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1];t.mul(s,this.tr,this.tr)},c.prototype.adjustScale=function(e,n,s){this.tr[0];var o=[1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1],i=[s,0,0,0,0,s,0,0,0,0,1,0,0,0,0,1],a=[1,0,0,0,0,1,0,0,0,0,1,0,-e,-n,0,1];t.mul(a,this.tr,this.tr),t.mul(i,this.tr,this.tr),t.mul(o,this.tr,this.tr)},c.prototype.setScreenRect=function(e,t,n,s){this.screenLeft=e,this.screenRight=t,this.screenTop=s,this.screenBottom=n},c.prototype.setMaxScreenRect=function(e,t,n,s){this.maxLeft=e,this.maxRight=t,this.maxTop=s,this.maxBottom=n},c.prototype.getScreenLeft=function(){return this.screenLeft},c.prototype.getScreenRight=function(){return this.screenRight},c.prototype.getScreenBottom=function(){return this.screenBottom},c.prototype.getScreenTop=function(){return this.screenTop},c.prototype.getMaxLeft=function(){return this.maxLeft},c.prototype.getMaxRight=function(){return this.maxRight},c.prototype.getMaxBottom=function(){return this.maxBottom},c.prototype.getMaxTop=function(){return this.maxTop},r.platformManager=null,r.getPlatformManager=function(){return r.platformManager},r.setPlatformManager=function(e){r.platformManager=e},e.L2DTargetPoint=d,e.Live2DFramework=r,e.L2DViewMatrix=c,e.L2DPose=u,e.L2DPartsParam=f,e.L2DPhysics=h,e.L2DMotionManager=l,e.L2DModelMatrix=a,e.L2DMatrix44=t,e.EYE_STATE=i,e.L2DEyeBlink=m,e.L2DExpressionParam=p,e.L2DExpressionMotion=o,e.L2DBaseModel=s},82:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cDefine={VIEW_LOGICAL_LEFT:-1,VIEW_LOGICAL_RIGHT:1,VIEW_LOGICAL_MAX_LEFT:-2,VIEW_LOGICAL_MAX_RIGHT:2,VIEW_LOGICAL_MAX_BOTTOM:-2,VIEW_LOGICAL_MAX_TOP:2,PRIORITY_NONE:0,PRIORITY_IDLE:1,PRIORITY_NORMAL:2,PRIORITY_FORCE:3,MOTION_GROUP_IDLE:"idle",MOTION_GROUP_TAP_BODY:"tap_body",MOTION_GROUP_FLICK_HEAD:"flick_head",MOTION_GROUP_PINCH_IN:"pinch_in",MOTION_GROUP_PINCH_OUT:"pinch_out",MOTION_GROUP_SHAKE:"shake",HIT_AREA_HEAD:"head",HIT_AREA_BODY:"body"}},83:function(r,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.currCanvas=t.currWebGL=t.createElement=void 0;var e=s(26),i=s(27),a=s(40),n=void 0,o=void 0;t.createElement=function(){var c=document.getElementById(e.config.name.div),s,r;null!==c&&document.body.removeChild(c),s=document.createElement("div"),s.id=e.config.name.div,s.className="live2d-widget-container",s.style.setProperty("position","fixed"),s.style.setProperty(e.config.display.position,e.config.display.hOffset+"px"),s.style.setProperty("bottom",e.config.display.vOffset+"px"),s.style.setProperty("width",e.config.display.width+"px"),s.style.setProperty("height",e.config.display.height+"px"),s.style.setProperty("z-index",99999),s.style.setProperty("opacity",e.config.react.opacity),s.style.setProperty("pointer-events","none"),document.body.appendChild(s),i.L2Dwidget.emit("create-container",s),e.config.dialog.enable&&(0,a.createDialogElement)(s),r=document.createElement("canvas"),r.setAttribute("id",e.config.name.canvas),r.setAttribute("width",e.config.display.width*e.config.display.superSample),r.setAttribute("height",e.config.display.height*e.config.display.superSample),r.style.setProperty("position","absolute"),r.style.setProperty("left","0px"),r.style.setProperty("top","0px"),r.style.setProperty("width",e.config.display.width+"px"),r.style.setProperty("height",e.config.display.height+"px"),e.config.dev.border&&r.style.setProperty("border","dashed 1px #CCC"),s.appendChild(r),t.currCanvas=o=document.getElementById(e.config.name.canvas),i.L2Dwidget.emit("create-canvas",r),function(){for(var s=["webgl2","webgl","experimental-webgl2","experimental-webgl","webkit-3d","moz-webgl"],e=0,i;e<s.length;e++)try{i=o.getContext(s[e],{alpha:!0,antialias:!0,premultipliedAlpha:!0,failIfMajorPerformanceCaveat:!1}),i&&(t.currWebGL=n=i)}catch(e){}n||(console.error("Live2D widgets: Failed to create WebGL context."),window.WebGLRenderingContext||console.error("Your browser may not support WebGL, check https://get.webgl.org/ for futher information."))}()},t.currWebGL=n,t.currCanvas=o},84:function(n,t){"use strict";function e(){}Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixStack=e,e.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e.depth=0,e.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e.tmp=new Array(16),e.reset=function(){this.depth=0},e.loadIdentity=function(){for(var e=0;e<16;e++)this.currentMatrix[e]=e%5==0?1:0},e.push=function(){var t=16*(this.depth+1),e;this.matrixStack.length<t+16&&(this.matrixStack.length=t+16);for(e=0;e<16;e++)this.matrixStack[t+e]=this.currentMatrix[e];this.depth++},e.pop=function(){this.depth--,this.depth<0&&(myError("Invalid matrix stack."),this.depth=0);for(var t=16*this.depth,e=0;e<16;e++)this.currentMatrix[e]=this.matrixStack[t+e]},e.getMatrix=function(){return this.currentMatrix},e.multMatrix=function(s){var e,t,n;for(e=0;e<16;e++)this.tmp[e]=0;for(e=0;e<4;e++)for(t=0;t<4;t++)for(n=0;n<4;n++)this.tmp[e+4*t]+=this.currentMatrix[e+4*n]*s[n+4*t];for(e=0;e<16;e++)this.currentMatrix[e]=this.tmp[e]}},85:function(e){e.exports={import:function(){throw new Error("System.import cannot be used indirectly")}}},86:function(r,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.cManager=void 0;var o=n(81),i=n(87),a=n(88),t=n(82);function e(e){this.eventemitter=e,this.models=[],this.count=-1,this.reloadFlg=!1,o.Live2DFramework.setPlatformManager(new i.PlatformManager)}e.prototype.createModel=function(){var e=new a.cModel;return this.models.push(e),e},e.prototype.changeModel=function(e,t){this.reloadFlg&&(this.reloadFlg=!1,this.releaseModel(0,e),this.createModel(),this.models[0].load(e,t))},e.prototype.getModel=function(e){return e>=this.models.length?null:this.models[e]},e.prototype.releaseModel=function(e,t){this.models.length<=e||(this.models[e].release(t),delete this.models[e],this.models.splice(e,1))},e.prototype.numModels=function(){return this.models.length},e.prototype.setDrag=function(t,n){for(var e=0;e<this.models.length;e++)this.models[e].setDrag(t,n)},e.prototype.tapEvent=function(n,s){t.cDefine.DEBUG_LOG&&console.log("tapEvent view x:"+n+" y:"+s);for(var e=0;e<this.models.length;e++)this.models[e].hitTest(t.cDefine.HIT_AREA_HEAD,n,s)?(this.eventemitter.emit("tapface"),t.cDefine.DEBUG_LOG&&console.log("Tap face."),this.models[e].setRandomExpression()):this.models[e].hitTest(t.cDefine.HIT_AREA_BODY,n,s)&&(this.eventemitter.emit("tapbody"),t.cDefine.DEBUG_LOG&&console.log("Tap body. models["+e+"]"),this.models[e].startRandomMotion(t.cDefine.MOTION_GROUP_TAP_BODY,t.cDefine.PRIORITY_NORMAL));return!0},s.cManager=e},87:function(i,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformManager=e;var s=n(83),o=n(80);function e(){}e.prototype.loadBytes=function(t,n){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){switch(e.status){case 200:n(e.response);break;default:console.error("Failed to load ("+e.status+") : "+t)}},e.send(null)},e.prototype.loadString=function(e){this.loadBytes(e,function(e){return e})},e.prototype.loadLive2DModel=function(t,n){var e=null;this.loadBytes(t,function(t){e=o.Live2DModelWebGL.loadModel(t),n(e)})},e.prototype.loadTexture=function(t,i,n,o){var e=new Image;e.crossOrigin="Anonymous",e.src=n,e.onload=onload,e.onerror=onerror,e.onload=function(){var n=s.currWebGL,a=n.createTexture();if(!a)return console.error("Failed to generate gl texture name."),-1;t.isPremultipliedAlpha()||n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,1),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,a),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_NEAREST),n.generateMipmap(n.TEXTURE_2D),t.setTexture(i,a),a=null,"function"==typeof o&&o()},e.onerror=function(){console.error("Failed to load image : "+n)}},e.prototype.jsonParseFromBytes=function(e){var n,t=new Uint8Array(e,0,3);return n=239==t[0]&&187==t[1]&&191==t[2]?String.fromCharCode.apply(null,new Uint8Array(e,3)):String.fromCharCode.apply(null,new Uint8Array(e)),JSON.parse(n)},e.prototype.log=function(e){console.log(e)}},88:function(c,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.cModel=e;var s=n(81),a=n(89),o=n(84),t=n(82),r=n(80);function e(){s.L2DBaseModel.prototype.constructor.call(this),this.modelHomeDir="",this.modelSetting=null,this.tmpMatrix=[]}e.prototype=new s.L2DBaseModel,e.prototype.load=function(i,n,o){this.setUpdating(!0),this.setInitialized(!1),this.modelHomeDir=n.substring(0,n.lastIndexOf("/")+1),this.modelSetting=new a.ModelSettingJson;var e=this;this.modelSetting.loadModelSetting(n,function(){var n=e.modelHomeDir+e.modelSetting.getModelFile();e.loadModelData(n,function(){for(var n=0,i;n<e.modelSetting.getTextureNum();n++)/^https?:\/\/|^\/\//i.test(e.modelSetting.getTextureFile(n))?(i=e.modelSetting.getTextureFile(n)):i=e.modelHomeDir+e.modelSetting.getTextureFile(n),e.loadTexture(n,i,function(){if(e.isTexLoaded){if(e.modelSetting.getExpressionNum()>0){e.expressions={};for(i=0;i<e.modelSetting.getExpressionNum();i++){var i,a=e.modelSetting.getExpressionName(i),r=e.modelHomeDir+e.modelSetting.getExpressionFile(i),n;e.loadExpression(a,r)}}else e.expressionManager=null,e.expressions={};null==e.eyeBlink&&(e.eyeBlink=new s.L2DEyeBlink),null!=e.modelSetting.getPhysicsFile()?e.loadPhysics(e.modelHomeDir+e.modelSetting.getPhysicsFile()):e.physics=null,null!=e.modelSetting.getPoseFile()?e.loadPose(e.modelHomeDir+e.modelSetting.getPoseFile(),function(){e.pose.updateParam(e.live2DModel)}):e.pose=null,null!=e.modelSetting.getLayout()&&(n=e.modelSetting.getLayout(),null!=n.width&&e.modelMatrix.setWidth(n.width),null!=n.height&&e.modelMatrix.setHeight(n.height),null!=n.x&&e.modelMatrix.setX(n.x),null!=n.y&&e.modelMatrix.setY(n.y),null!=n.center_x&&e.modelMatrix.centerX(n.center_x),null!=n.center_y&&e.modelMatrix.centerY(n.center_y),null!=n.top&&e.modelMatrix.top(n.top),null!=n.bottom&&e.modelMatrix.bottom(n.bottom),null!=n.left&&e.modelMatrix.left(n.left),null!=n.right&&e.modelMatrix.right(n.right));for(i=0;i<e.modelSetting.getInitParamNum();i++)e.live2DModel.setParamFloat(e.modelSetting.getInitParamID(i),e.modelSetting.getInitParamValue(i));for(i=0;i<e.modelSetting.getInitPartsVisibleNum();i++)e.live2DModel.setPartsOpacity(e.modelSetting.getInitPartsVisibleID(i),e.modelSetting.getInitPartsVisibleValue(i));e.live2DModel.saveParam(),e.preloadMotionGroup(t.cDefine.MOTION_GROUP_IDLE),e.mainMotionManager.stopAllMotions(),e.setUpdating(!1),e.setInitialized(!0),"function"==typeof o&&o()}})})})},e.prototype.release=function(e){var t=s.Live2DFramework.getPlatformManager();e.deleteTexture(t.texture)},e.prototype.preloadMotionGroup=function(t){for(var n=this,e=0,s;e<this.modelSetting.getMotionNum(t);e++)s=this.modelSetting.getMotionFile(t,e),this.loadMotion(s,this.modelHomeDir+s,function(s){s.setFadeIn(n.modelSetting.getMotionFadeIn(t,e)),s.setFadeOut(n.modelSetting.getMotionFadeOut(t,e))})},e.prototype.update=function(){if(null!=this.live2DModel){var e=2*((r.UtSystem.getUserTimeMSec()-this.startTimeMSec)/1e3)*Math.PI;this.mainMotionManager.isFinished()&&this.startRandomMotion(t.cDefine.MOTION_GROUP_IDLE,t.cDefine.PRIORITY_IDLE),this.live2DModel.loadParam(),this.mainMotionManager.updateParam(this.live2DModel)||null!=this.eyeBlink&&this.eyeBlink.updateParam(this.live2DModel),this.live2DModel.saveParam(),null==this.expressionManager||null==this.expressions||this.expressionManager.isFinished()||this.expressionManager.updateParam(this.live2DModel),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",30*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",30*this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",this.dragX*this.dragY*-30,1),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",10*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_X",this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_Y",this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",Number(15*Math.sin(e/6.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",Number(8*Math.sin(e/3.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",Number(10*Math.sin(e/5.5345)),.5),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",Number(4*Math.sin(e/15.5345)),.5),this.live2DModel.setParamFloat("PARAM_BREATH",Number(.5+.5*Math.sin(e/3.2345)),1),null!=this.physics&&this.physics.updateParam(this.live2DModel),null==this.lipSync&&this.live2DModel.setParamFloat("PARAM_MOUTH_OPEN_Y",this.lipSyncValue),null!=this.pose&&this.pose.updateParam(this.live2DModel),this.live2DModel.update()}else t.cDefine.DEBUG_LOG&&console.error("Failed to update.")},e.prototype.setRandomExpression=function(){var e=[],t,n;for(t in this.expressions)e.push(t);n=parseInt(Math.random()*e.length),this.setExpression(e[n])},e.prototype.startRandomMotion=function(e,t){var n=this.modelSetting.getMotionNum(e),s=parseInt(Math.random()*n);this.startMotion(e,s,t)},e.prototype.startMotion=function(e,o,n){var i=this.modelSetting.getMotionFile(e,o),s,a;if(null!=i&&""!=i){if(n==t.cDefine.PRIORITY_FORCE)this.mainMotionManager.setReservePriority(n);else if(!this.mainMotionManager.reserveMotion(n))return void(t.cDefine.DEBUG_LOG&&console.log("Motion is running."));a=this,null==this.motions[e]?this.loadMotion(e,this.modelHomeDir+i,function(t){s=t,a.setFadeInFadeOut(e,o,n,s)}):(s=this.motions[e],a.setFadeInFadeOut(e,o,n,s))}else t.cDefine.DEBUG_LOG&&console.error("Failed to motion.")},e.prototype.setFadeInFadeOut=function(e,n,o,s){if(r=this.modelSetting.getMotionFile(e,n),s.setFadeIn(this.modelSetting.getMotionFadeIn(e,n)),s.setFadeOut(this.modelSetting.getMotionFadeOut(e,n)),t.cDefine.DEBUG_LOG&&console.log("Start motion : "+r),null==this.modelSetting.getMotionSound(e,n))this.mainMotionManager.startMotionPrio(s,o);else{var r,i=this.modelSetting.getMotionSound(e,n),a=document.createElement("audio");a.src=this.modelHomeDir+i,t.cDefine.DEBUG_LOG&&console.log("Start sound : "+i),a.play(),this.mainMotionManager.startMotionPrio(s,o)}},e.prototype.setExpression=function(e){var n=this.expressions[e];t.cDefine.DEBUG_LOG&&console.log("Expression : "+e),this.expressionManager.startMotion(n,!1)},e.prototype.draw=function(){o.MatrixStack.push(),o.MatrixStack.multMatrix(this.modelMatrix.getArray()),this.tmpMatrix=o.MatrixStack.getMatrix(),this.live2DModel.setMatrix(this.tmpMatrix),this.live2DModel.draw(),o.MatrixStack.pop()},e.prototype.hitTest=function(t,n,s){for(var o=this.modelSetting.getHitAreaNum(),e=0,i;e<o;e++)if(t==this.modelSetting.getHitAreaName(e))return i=this.modelSetting.getHitAreaID(e),this.hitTestSimple(i,n,s);return!1}},89:function(o,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelSettingJson=e;var s=n(81);function e(){this.NAME="name",this.ID="id",this.MODEL="model",this.TEXTURES="textures",this.HIT_AREAS="hit_areas",this.PHYSICS="physics",this.POSE="pose",this.EXPRESSIONS="expressions",this.MOTION_GROUPS="motions",this.SOUND="sound",this.FADE_IN="fade_in",this.FADE_OUT="fade_out",this.LAYOUT="layout",this.INIT_PARAM="init_param",this.INIT_PARTS_VISIBLE="init_parts_visible",this.VALUE="val",this.FILE="file",this.json={}}e.prototype.loadModelSetting=function(e,t){var n=this;s.Live2DFramework.getPlatformManager().loadBytes(e,function(e){var s=String.fromCharCode.apply(null,new Uint8Array(e));n.json=JSON.parse(s),t()})},e.prototype.getTextureFile=function(e){return null==this.json[this.TEXTURES]||null==this.json[this.TEXTURES][e]?null:this.json[this.TEXTURES][e]},e.prototype.getModelFile=function(){return this.json[this.MODEL]},e.prototype.getTextureNum=function(){return null==this.json[this.TEXTURES]?0:this.json[this.TEXTURES].length},e.prototype.getHitAreaNum=function(){return null==this.json[this.HIT_AREAS]?0:this.json[this.HIT_AREAS].length},e.prototype.getHitAreaID=function(e){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][e]?null:this.json[this.HIT_AREAS][e][this.ID]},e.prototype.getHitAreaName=function(e){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][e]?null:this.json[this.HIT_AREAS][e][this.NAME]},e.prototype.getPhysicsFile=function(){return this.json[this.PHYSICS]},e.prototype.getPoseFile=function(){return this.json[this.POSE]},e.prototype.getExpressionNum=function(){return null==this.json[this.EXPRESSIONS]?0:this.json[this.EXPRESSIONS].length},e.prototype.getExpressionFile=function(e){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][e][this.FILE]},e.prototype.getExpressionName=function(e){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][e][this.NAME]},e.prototype.getLayout=function(){return this.json[this.LAYOUT]},e.prototype.getInitParamNum=function(){return null==this.json[this.INIT_PARAM]?0:this.json[this.INIT_PARAM].length},e.prototype.getMotionNum=function(e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][e]?0:this.json[this.MOTION_GROUPS][e].length},e.prototype.getMotionFile=function(e,t){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][e]||null==this.json[this.MOTION_GROUPS][e][t]?null:this.json[this.MOTION_GROUPS][e][t][this.FILE]},e.prototype.getMotionSound=function(e,t){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][e]||null==this.json[this.MOTION_GROUPS][e][t]||null==this.json[this.MOTION_GROUPS][e][t][this.SOUND]?null:this.json[this.MOTION_GROUPS][e][t][this.SOUND]},e.prototype.getMotionFadeIn=function(e,t){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][e]||null==this.json[this.MOTION_GROUPS][e][t]||null==this.json[this.MOTION_GROUPS][e][t][this.FADE_IN]?1e3:this.json[this.MOTION_GROUPS][e][t][this.FADE_IN]},e.prototype.getMotionFadeOut=function(e,t){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][e]||null==this.json[this.MOTION_GROUPS][e][t]||null==this.json[this.MOTION_GROUPS][e][t][this.FADE_OUT]?1e3:this.json[this.MOTION_GROUPS][e][t][this.FADE_OUT]},e.prototype.getInitParamID=function(e){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][e]?null:this.json[this.INIT_PARAM][e][this.ID]},e.prototype.getInitParamValue=function(e){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][e]?NaN:this.json[this.INIT_PARAM][e][this.VALUE]},e.prototype.getInitPartsVisibleNum=function(){return null==this.json[this.INIT_PARTS_VISIBLE]?0:this.json[this.INIT_PARTS_VISIBLE].length},e.prototype.getInitPartsVisibleID=function(e){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][e]?null:this.json[this.INIT_PARTS_VISIBLE][e][this.ID]},e.prototype.getInitPartsVisibleValue=function(e){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][e]?NaN:this.json[this.INIT_PARTS_VISIBLE][e][this.VALUE]}}}),jsonModel=["https://unpkg.com/live2d-widget-model-z16@1.0.5/assets/z16.model.json","https://unpkg.com/live2d-widget-model-koharu@1.0.5/assets/koharu.model.json","https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json","https://unpkg.com/live2d-widget-model-miku@1.0.5/assets/miku.model.json"],L2Dwidget.init({model:{jsonPath:jsonModel[Math.floor(Math.random()*(jsonModel.length-1))],scale:1},display:{position:"left",width:220,height:300,hoffset:0,voffset:-20},mobile:{show:!1},react:{opacityDefault:.8,opacityOnHover:.1}})